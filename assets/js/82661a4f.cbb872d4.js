"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["3499"],{2124:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,contentTitle:()=>u,default:()=>g,assets:()=>p,toc:()=>m,frontMatter:()=>h});var i=JSON.parse('{"id":"ithome2023/day24","title":"[Day 24] React + Cypress \u6E2C\u8A66","description":"\u9019\u4E00\u7BC7\u4F86\u628A\u4E4B\u524D\u5BEB\u7684\u7A0B\u5F0F\u78BC\u6311\u9078 itemListPage \u8DDF formPage \u4F86\u4F7F\u7528 Cypress \u5BEB\u6E2C\u8A66\uFF0C\u4E26\u4E14\u9806\u4FBF\u4ECB\u7D39\u4E00\u4E9B\u57FA\u672C\u7684\u8A9E\u6CD5\u3002","source":"@site/docs/ithome2023/day24.mdx","sourceDirName":"ithome2023","slug":"/ithome2023/day24","permalink":"/ithome2023/day24","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"IT Home 2023","permalink":"/tags/ithome-2023","description":"IT Home \u9435\u4EBA\u8CFD 2023 \u5E74\u7CFB\u5217\u6587\u7AE0"}],"version":"current","lastUpdatedAt":1718173908000,"frontMatter":{"title":"[Day 24] React + Cypress \u6E2C\u8A66","tags":["ithome2023"]},"sidebar":"tutorialSidebar","previous":{"title":"[Day 23] E2E \u6E2C\u8A66\u5957\u4EF6 Cypress \u4ECB\u7D39","permalink":"/ithome2023/day23"},"next":{"title":"[Day 25] React + Cypress \u6E2C\u8A66 (AI)","permalink":"/ithome2023/day25"}}'),s=t("5893"),c=t("65"),r=t("9366");let l=t.p+"assets/images/day24-1-4add8f824aa1f8bc053644e3c5730e49.jpg";var a=t("9915"),d=t("7413"),o=t("1167");let h={title:"[Day 24] React + Cypress \u6E2C\u8A66",tags:["ithome2023"]},u=void 0,p={},m=[{value:"itemListPage \u6E2C\u8A66",id:"itemlistpage-\u6E2C\u8A66",level:2},{value:"formPage \u6E2C\u8A66",id:"formpage-\u6E2C\u8A66",level:2},{value:"TypeScript \u8A2D\u5B9A",id:"typescript-\u8A2D\u5B9A",level:2}];function y(e){let n={code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u9019\u4E00\u7BC7\u4F86\u628A\u4E4B\u524D\u5BEB\u7684\u7A0B\u5F0F\u78BC\u6311\u9078 itemListPage \u8DDF formPage \u4F86\u4F7F\u7528 Cypress \u5BEB\u6E2C\u8A66\uFF0C\u4E26\u4E14\u9806\u4FBF\u4ECB\u7D39\u4E00\u4E9B\u57FA\u672C\u7684\u8A9E\u6CD5\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"itemlistpage-\u6E2C\u8A66",children:"itemListPage \u6E2C\u8A66"}),"\n",(0,s.jsxs)(n.p,{children:["\u9996\u5148\u6211\u5011\u8981\u6E2C\u8A66\u7684\u662F ",(0,s.jsx)(n.code,{children:"itemListPage"}),"\uFF0C\u9019\u500B\u9801\u9762\u7684\u529F\u80FD\u6709\uFF1A"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u986F\u793A\u6240\u6709\u7684\u9805\u76EE"}),"\n",(0,s.jsx)(n.li,{children:"\u53EF\u4EE5\u65B0\u589E\u9805\u76EE"}),"\n",(0,s.jsx)(n.li,{children:"\u53EF\u4EE5\u522A\u9664\u9805\u76EE"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Cypress \u7684\u7A0B\u5F0F\u78BC\u6703\u662F\u9019\u6A23\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'describe("API Page", () => {\n  beforeEach(() => {\n    cy.visit("http://localhost:5173/home/itemList");\n  });\n\n  it("\u986F\u793A\u6B63\u78BA\u7684\u521D\u59CB\u9805\u76EE", () => {\n    cy.get("li").should("have.length", 3);\n    cy.get("li").eq(0).should("contain", "test1");\n    cy.get("li").eq(1).should("contain", "test2");\n    cy.get("li").eq(2).should("contain", "test3");\n  });\n\n  it("\u65B0\u589E\u300Ctest4\u300D\u6587\u5B57\uFF0C\u986F\u793A\u6B63\u78BA\u7D50\u679C", () => {\n    cy.get("input").type("test4");\n    cy.contains(/add/i).click();\n    cy.get("li").should("have.length", 4);\n    cy.get("li").eq(3).should("contain", "test4");\n  });\n\n  it("\u522A\u9664\u300Ctest1\u300D\u6587\u5B57\uFF0C\u986F\u793A\u6B63\u78BA\u7D50\u679C", () => {\n    cy.contains(/delete/i)\n      .eq(0)\n      .click();\n    cy.get("li").should("have.length", 2);\n    cy.get("li").eq(0).should("contain", "test2");\n    cy.get("li").eq(1).should("contain", "test3");\n  });\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u6BD4\u8F03\u5E38\u898B\u7684\u6709\u5E7E\u500B\u8A9E\u6CD5\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"visit()"}),"\uFF1A\u524D\u5F80\u67D0\u500B\u7DB2\u5740"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"get()"}),"\uFF1A\u4F7F\u7528 CSS \u9078\u64C7\u5668\u53D6\u5F97\u5143\u7D20"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"contains()"}),"\uFF1A\u9078\u53D6\u542B\u6709\u67D0\u500B\u6587\u5B57\u7684\u5143\u7D20"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"eq()"}),"\uFF1A\u7576\u6709\u591A\u500B\u5143\u7D20\u7B26\u5408\u6642\uFF0C\u9078\u53D6\u7B2C\u5E7E\u500B\u5143\u7D20"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type()"}),"\uFF1A\u8F38\u5165\u6587\u5B57"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"click()"}),"\uFF1A\u9EDE\u64CA\u67D0\u500B\u5143\u7D20"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5BE6\u969B\u8DD1\u8D77\u4F86\u7684\u6A23\u5B50\uFF1A"}),"\n",(0,s.jsx)(r.Ei,{src:a.Z}),"\n",(0,s.jsx)(n.p,{children:"\u5F88\u5FEB\u5C31\u8DD1\u5B8C\u4E86\uFF0C\u9084\u6C92\u770B\u6E05\u695A\u5C31\u7D50\u675F\u4E86\uFF38\uFF24\u53EF\u4EE5\u6253\u958B\u6BCF\u4E00\u6B65\u9A5F\u7684\u756B\u9762\uFF0CCypress \u6703\u628A\u6BCF\u4E00\u6B65\u9A5F\u90FD\u62CD\u4E0B\u4F86\uFF0C\u5F88\u6E05\u695A\u7684\u8CC7\u6599\u6574\u500B\u6E2C\u8A66\u7684\u6D41\u7A0B"}),"\n",(0,s.jsx)(r.Ei,{src:d.Z}),"\n",(0,s.jsx)(n.h2,{id:"formpage-\u6E2C\u8A66",children:"formPage \u6E2C\u8A66"}),"\n",(0,s.jsxs)(n.p,{children:["\u63A5\u4E0B\u4F86\u662F ",(0,s.jsx)(n.code,{children:"formPage"}),"\uFF0C\u9019\u500B\u9801\u9762\u7684\u529F\u80FD\u6709\uFF1A"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u672A\u8F38\u5165\u4EFB\u4F55\u8CC7\u6599\uFF0C\u6309\u4E0B\u9001\u51FA\u6309\u9215\uFF0C\u986F\u793A\u932F\u8AA4\u8A0A\u606F"}),"\n",(0,s.jsx)(n.li,{children:"\u8F38\u5165\u932F\u8AA4\u8CC7\u6599\uFF0C\u6309\u4E0B\u9001\u51FA\u6309\u9215\uFF0C\u986F\u793A\u932F\u8AA4\u8A0A\u606F"}),"\n",(0,s.jsx)(n.li,{children:"\u8F38\u5165\u6B63\u78BA\u8CC7\u6599\uFF0C\u6309\u4E0B\u9001\u51FA\u6309\u9215\uFF0C\u986F\u793A\u6B63\u78BA\u8A0A\u606F"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Cypress \u7A0B\u5F0F\u78BC\uFF1A"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'describe("Form Page", () => {\n  beforeEach(() => {\n    cy.visit("http://localhost:5173/home/form");\n  });\n\n  it("\u672A\u8F38\u5165\u4EFB\u4F55\u8CC7\u6599\uFF0C\u6309\u4E0B\u9001\u51FA\u6309\u9215\uFF0C\u986F\u793A\u932F\u8AA4\u8A0A\u606F", () => {\n    cy.contains(/submit/i).click();\n    cy.get("input ~ div")\n      .should("contain", "\u5FC5\u586B\u9805\u76EE")\n      .should("have.length", 3);\n  });\n\n  it("\u8F38\u5165\u932F\u8AA4\u8CC7\u6599\uFF0C\u6309\u4E0B\u9001\u51FA\u6309\u9215\uFF0C\u986F\u793A\u932F\u8AA4\u8A0A\u606F", () => {\n    cy.get(\'input[name="firstName"]\').type("testing");\n    cy.get(\'input[name="lastName"]\').type("testing ten word");\n    cy.get(\'input[name="twId"\').type("A123");\n    cy.contains(/submit/i).click();\n    cy.contains("\u4E0D\u53EF\u5927\u65BC 5 \u500B\u5B57").should("have.length", 1);\n    cy.contains("\u4E0D\u53EF\u5927\u65BC 10 \u500B\u5B57").should("have.length", 1);\n    cy.contains("\u8EAB\u5206\u8B49\u5B57\u865F\u683C\u5F0F\u932F\u8AA4").should("have.length", 1);\n  });\n\n  it("\u8F38\u5165\u6B63\u78BA\u8CC7\u6599\uFF0C\u6309\u4E0B\u9001\u51FA\u6309\u9215\uFF0C\u986F\u793A\u6B63\u78BA\u8A0A\u606F", () => {\n    cy.get(\'input[name="firstName"]\').type("test");\n    cy.get(\'input[name="lastName"]\').type("test");\n    cy.get(\'input[name="twId"\').type("A123456789");\n    cy.contains(/submit/i).click();\n    cy.on("window:alert", (message) => {\n      expect(message).to.equal(\n        JSON.stringify({\n          firstName: "test",\n          lastName: "test",\n          twId: "A123456789",\n        })\n      );\n    });\n  });\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"Cypress \u756B\u9762\uFF1A"}),"\n",(0,s.jsx)(r.Ei,{src:o.Z}),"\n",(0,s.jsx)(n.h2,{id:"typescript-\u8A2D\u5B9A",children:"TypeScript \u8A2D\u5B9A"}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679C\u7528 TypeScript \u7684\u8A71\uFF0C\u53EF\u4EE5\u5728 ",(0,s.jsx)(n.code,{children:"cypress.config.ts"})," \u7B2C\u4E00\u884C\u52A0\u4E0A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'/// <reference types="cypress" />\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u6A23\u5C31\u53EF\u4EE5\u4F7F\u7528 Cypress \u7684\u5168\u57DF\u8B8A\u6578\u4E86\u3002"}),"\n",(0,s.jsx)(r.Ei,{src:l}),"\n",(0,s.jsxs)(n.p,{children:["\u8A18\u5F97\u5728 ",(0,s.jsx)(n.code,{children:".eslintrc.cjs"})," \u52A0\u4E0A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'module.exports = {\n  extends: ["plugin:cypress/recommended"],\n};\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u624D\u4E0D\u6703\u51FA\u73FE ",(0,s.jsx)(n.code,{children:"cy"})," \u9019\u500B\u8B8A\u6578\u6C92\u6709\u5B9A\u7FA9\u7684\u932F\u8AA4\u3002"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"\u4ECA\u5929\u5C31\u5148\u5230\u9019\u908A\uFF0C\u660E\u5929\u8A66\u8457\u4F7F\u7528 Copilot chat \u4F86\u5BEB Cypress \u6E2C\u8A66\u5427\uFF01"})]})}function g(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}},9915:function(e,n,t){t.d(n,{Z:function(){return i}});let i=t.p+"assets/images/day23-2-f01798723de3fd7d80ac5ce661557122.jpg"},7413:function(e,n,t){t.d(n,{Z:function(){return i}});let i=t.p+"assets/images/day23-3-d7339f3e0c64819526934adb3e481db9.jpg"},1167:function(e,n,t){t.d(n,{Z:function(){return i}});let i=t.p+"assets/images/day23-4-7b95ae4e5d0459f90cabe0d82b712ce3.gif"},144:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(5893);t(7294);var s=t(7227);function c(e){let{children:n,fallback:t}=e;return(0,s.Z)()?(0,i.jsx)(i.Fragment,{children:n?.()}):t??null}},9366:function(e,n,t){t.d(n,{Ei:function(){return r},gO:function(){return l},nI:function(){return a}});var i=t(5893),s=t(144),c=t(1094);t(7294);let r=e=>{let{src:n,width:t="100%",center:s=!1,style:c={}}=e,r={width:`min(100%,${t})`,display:s?"block":"inline-block",margin:s?"0 auto":"0",borderRadius:"5px",...c};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:n,style:{...r}}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]})},l=e=>{let{children:n,width:t="100%",center:r=!1,style:l={}}=e;return(0,i.jsx)(s.Z,{children:()=>{let{sm:e}=(0,c.Z)(),s={width:`min(100%,${t})`,margin:r?"0 auto":"0",display:"flex",flexDirection:e?"column":"row",gap:"10px",alignItems:"center",...l};return(0,i.jsx)("div",{style:{...s},children:n})}})},a=e=>{let{style:n,width:t="100%",src:s}=e,c={width:`min(100%,${t})`,flex:1,...n};return(0,i.jsx)("div",{style:{...c},children:(0,i.jsx)(r,{src:s})})}},1094:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(7294);let s=635,c=()=>{let[e,n]=(0,i.useState)({width:window.innerWidth,height:window.innerHeight}),[t,c]=(0,i.useState)(!1);return(0,i.useLayoutEffect)(()=>{let e=()=>{let{innerWidth:e,innerHeight:t}=window;n({width:e,height:t}),c(e<=s)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{sm:t,windowSize:e}}},65:function(e,n,t){t.d(n,{Z:function(){return l},a:function(){return r}});var i=t(7294);let s={},c=i.createContext(s);function r(e){let n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);