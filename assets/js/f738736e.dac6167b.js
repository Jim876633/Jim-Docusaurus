"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["8713"],{6473:function(e,n,t){t.r(n),t.d(n,{default:()=>y,frontMatter:()=>u,metadata:()=>s,assets:()=>m,toc:()=>f,contentTitle:()=>g});var s=JSON.parse('{"id":"ithome2023/day03","title":"[Day 03] JavaScript \u6E2C\u8A66\u6846\u67B6\u4ECB\u7D39 & Jest \u57FA\u672C\u8A9E\u6CD5","description":"\u524D\u9762\u8B1B\u4E86\u70BA\u4EC0\u9EBC\u8981\u5BEB\u6E2C\u8A66\uFF0C\u518D\u4F86\u8981\u4F86\u4ECB\u7D39 JavaScript \u6709\u54EA\u4E9B\u5E38\u7528\u7684\u6E2C\u8A66\u6846\u67B6\u3002","source":"@site/docs/ithome2023/day03.mdx","sourceDirName":"ithome2023","slug":"/ithome2023/day03","permalink":"/ithome2023/day03","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"IT Home 2023","permalink":"/tags/ithome-2023","description":"IT Home \u9435\u4EBA\u8CFD 2023 \u5E74\u7CFB\u5217\u6587\u7AE0"}],"version":"current","lastUpdatedAt":1718173908000,"frontMatter":{"title":"[Day 03] JavaScript \u6E2C\u8A66\u6846\u67B6\u4ECB\u7D39 & Jest \u57FA\u672C\u8A9E\u6CD5","tags":["ithome2023"]},"sidebar":"tutorialSidebar","previous":{"title":"[Day 02] \u70BA\u4EC0\u9EBC\u8981\u5BEB\u6E2C\u8A66\uFF1F\u6709\u54EA\u4E9B\u6E2C\u8A66\uFF1F","permalink":"/ithome2023/day02"},"next":{"title":"[Day 04] Jest \u9032\u968E\u6A21\u64EC\u8A9E\u6CD5","permalink":"/ithome2023/day04"}}'),i=t("5893"),l=t("65"),r=t("8239");let c=t.p+"assets/images/day3-1-ebd973b178b2093b17e3c34b58a1b622.png",a=t.p+"assets/images/day3-2-f94da84556beb799dbc9bee558f22cb5.png",d=t.p+"assets/images/day3-3-f9b50974a69127f6f92b8a29980695a4.png",h=t.p+"assets/images/day3-4-3a68500675e8422d1093ae6994284c17.png",o=t.p+"assets/images/day3-5-b5183861cf4ed7c57fcdaae8e3c03fff.png",x=t.p+"assets/images/day3-6-3f59ea9c9d29f996df4eee4ce895066a.png",j=t.p+"assets/images/day3-7-b6c638fd0dd264391783a3d229d2ca6c.png",p=t.p+"assets/images/day3-8-1aceb8b9f65e1cd798c533717bc65632.png",u={title:"[Day 03] JavaScript \u6E2C\u8A66\u6846\u67B6\u4ECB\u7D39 & Jest \u57FA\u672C\u8A9E\u6CD5",tags:["ithome2023"]},g=void 0,m={},f=[{value:"Jest \u7279\u8272",id:"jest-\u7279\u8272",level:2},{value:"\u5B89\u88DD Jest",id:"\u5B89\u88DD-jest",level:3},{value:"\u65B7\u8A00\u5EAB\uFF08\u57FA\u672C\u8A9E\u6CD5\uFF09",id:"\u65B7\u8A00\u5EAB\u57FA\u672C\u8A9E\u6CD5",level:3},{value:"\u6A21\u64EC\u51FD\u5F0F",id:"\u6A21\u64EC\u51FD\u5F0F",level:3},{value:"\u6E2C\u8A66\u8986\u84CB\u7387",id:"\u6E2C\u8A66\u8986\u84CB\u7387",level:3},{value:"\u5FEB\u7167\u6E2C\u8A66 Snapshot",id:"\u5FEB\u7167\u6E2C\u8A66-snapshot",level:3},{value:"Jest VS Code Extension",id:"jest-vs-code-extension",level:2},{value:"\u53C3\u8003\u8CC7\u6599",id:"\u53C3\u8003\u8CC7\u6599",level:2}];function b(e){let n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u524D\u9762\u8B1B\u4E86\u70BA\u4EC0\u9EBC\u8981\u5BEB\u6E2C\u8A66\uFF0C\u518D\u4F86\u8981\u4F86\u4ECB\u7D39 JavaScript \u6709\u54EA\u4E9B\u5E38\u7528\u7684\u6E2C\u8A66\u6846\u67B6\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u76EE\u524D\u5E38\u7528\u7684\u6709\u4EE5\u4E0B\u5E7E\u7A2E\uFF1A"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://jestjs.io/",children:"Jest"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://mochajs.org/",children:"Mocha"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://karma-runner.github.io/latest/index.html",children:"Karma"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://vitest.dev/",children:"Vitest"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/avajs/ava",children:"AVA"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4F86\u770B\u4E00\u4E0B\u8FD1\u4E94\u5E74\u7684\u4E0B\u8F09\u91CF\uFF1A"}),"\n",(0,i.jsx)(r.Ei,{src:c}),"\n",(0,i.jsx)(n.p,{children:"\u76EE\u524D Jest \u662F\u6700\u591A\u4EBA\u4F7F\u7528\u7684\u6E2C\u8A66\u6846\u67B6\uFF0C\u4E5F\u662F\u4E00\u958B\u59CB\u5B78\u6E2C\u8A66\u6700\u5BB9\u6613\u63A5\u89F8\u5230\u7684\u3002\u4E0D\u904E\u5404\u500B\u6846\u67B6\u90FD\u6709\u4E0D\u540C\u7684\u4F7F\u7528\u6642\u9593\u53CA\u512A\u9EDE\uFF0C\u7C21\u55AE\u4F86\u8AAA\uFF1A"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Jest \u662F\u7531 Facebook \u6240\u958B\u767C\uFF0C\u5728\u539F\u5148\u7684 ",(0,i.jsx)(n.a,{href:"https://create-react-app.dev/",children:"CRA"})," \u4E2D\u5C31\u6709\u5167\u5EFA\uFF0C\u6240\u4EE5\u5728 React \u7684\u5C08\u6848\u4E2D\u4F7F\u7528\u7387\u5F88\u9AD8\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"Mocha \u4E3B\u8981\u662F Node.js \u7684\u6E2C\u8A66\u6846\u67B6\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["Karma \u5247\u662F Angular \u5B98\u65B9\u63A8\u85A6\u7684\u6E2C\u8A66\u6846\u67B6\uFF0C\u5728 ",(0,i.jsx)(n.a,{href:"https://angular.io/cli",children:"Angular-cli"})," \u5167\u5EFA\u8207 ",(0,i.jsx)(n.a,{href:"https://jasmine.github.io/",children:"Jasmin"})," \u505A\u642D\u914D\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"Vitest \u662F\u7531 Vite \u6240\u958B\u767C\uFF0C\u7B97\u662F\u8FD1\u671F\u5D1B\u8D77\u7684\u6E2C\u8A66\u6846\u67B6\uFF0C\u8DDF Vite \u4E00\u6A23\u4E3B\u6253\u5FEB\u901F\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4F86\u505A\u4E00\u500B\u8A73\u7D30\u7684\u6BD4\u8F03"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"\u7A2E\u985E"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Jest"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Mocha"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Karma"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Vitest"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u6642\u9593"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"2014"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"2011"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"2012"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"2020"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u958B\u767C\u8005"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Facebook"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Open Source"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Angular"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Vite"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u4E0B\u8F09\u91CF\u6392\u540D"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"3"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u662F\u5426\u5167\u5EFA\u65B7\u8A00\u5EAB"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u274C\uFF08\u9700\u642D\u914D chi)"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u274C\uFF08\u9700\u642D\u914D Jasmin)"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u662F\u5426\u542B\u6A21\u64EC\u51FD\u5F0F"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u274C\uFF08\u9700\u642D\u914D Sinon.js)"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u274C\uFF08\u9700\u642D\u914D Sinon.js)"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"\u2705"})]})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u65B7\u8A00\u5EAB\uFF1A\u7528\u4F86\u5224\u65B7\u6E2C\u8A66\u7D50\u679C\u662F\u5426\u7B26\u5408\u9810\u671F\uFF0CEx: expect(1 + 1).toBe(2)"}),"\n",(0,i.jsx)(n.li,{children:"\u6A21\u64EC\u51FD\u5F0F\uFF1A\u7528\u4F86\u6A21\u64EC\u5916\u90E8\u51FD\u5F0F\uFF0C\u4F8B\u5982 API \u8ACB\u6C42\u3001\u6642\u9593\u51FD\u5F0F\u7B49\u7B49\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4EE5 React \u4F86\u8AAA\u6703\u6BD4\u8F03\u5EFA\u8B70\u4F7F\u7528 Jest \u4F86\u7576\u4F5C\u6E2C\u8A66\u6846\u67B6\uFF0C\u4E00\u65B9\u9762\u90FD\u662F facebook \u958B\u767C\u7684\uFF0C\u6574\u5408\u4E0A\u6703\u6BD4\u8F03\u5408\u9069\uFF0C\u53E6\u4E00\u65B9\u9762\u662F Jest \u5C31\u6DB5\u84CB\u5F88\u591A\u6E2C\u8A66\u529F\u80FD\uFF0C\u529F\u80FD\u6027\u4F86\u8AAA\u662F\u5F88\u5B8C\u5584\u7684\uFF0C\u5728\u5EFA\u7F6E\u74B0\u5883\u4E0A\u4E5F\u6BD4\u8F03\u7C21\u55AE\uFF0C\u96D6\u7136\u6E2C\u8A66\u901F\u5EA6\u6C92\u6709 Vitest \u5FEB\uFF0C\u4E0D\u904E\u56E0\u70BA\u6B77\u53F2\u6BD4\u8F03\u60A0\u4E45\uFF0C\u6240\u4EE5\u9047\u5230\u554F\u984C\u6BD4\u8F03\u5BB9\u6613\u627E\u5230\u89E3\u6C7A\u65B9\u6CD5\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u7D9C\u5408\u4E0A\u8FF0\uFF0C\u6240\u4EE5\u63A5\u4E0B\u4F86\u7684\u6E2C\u8A66\u7BC4\u4F8B\u90FD\u6703\u4EE5 ",(0,i.jsx)(n.strong,{children:"Jest"})," \u6846\u67B6\u70BA\u4E3B\u3002"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u53EF\u662F\u6211\u60F3\u4F7F\u7528\u5176\u4ED6\u6846\u67B6\u600E\u9EBC\u8FA6\uFF1F"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u4E0D\u7528\u64D4\u5FC3\uFF5E\u5927\u90E8\u5206\u6E2C\u8A66\u6846\u67B6\u7684\u8A9E\u6CD5\u90FD\u5DEE\u4E0D\u591A\uFF0C\u6240\u4EE5\u5B78\u6703 Jest \u4E4B\u5F8C\uFF0C\u5176\u4ED6\u6846\u67B6\u4E5F\u53EF\u4EE5\u5F88\u5FEB\u4E0A\u624B\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"jest-\u7279\u8272",children:"Jest \u7279\u8272"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5167\u5EFA\u65B7\u8A00\u5EAB"}),"\n",(0,i.jsx)(n.li,{children:"\u5167\u5EFA\u6A21\u64EC\u51FD\u5F0F"}),"\n",(0,i.jsx)(n.li,{children:"\u5167\u5EFA\u8986\u84CB\u7387\u5831\u544A"}),"\n",(0,i.jsx)(n.li,{children:"\u5167\u5EFA\u5FEB\u7167\u6E2C\u8A66"}),"\n",(0,i.jsx)(n.li,{children:"CRA \u5167\u5EFA\uFF0CNext.js\u3001Vite \u4E5F\u652F\u63F4"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5B89\u88DD-jest",children:"\u5B89\u88DD Jest"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev jest\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u56E0\u70BA Jest \u662F\u5728 node \u74B0\u5883\u5E95\u4E0B\u57F7\u884C\uFF0C\u5982\u679C\u8981\u4F7F\u7528 ESModule \u7684 import/export \u8A9E\u6CD5\uFF0C\u9700\u8981\u5B89\u88DD @babel/preset-env \u53CA babel-jest"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev @babel/preset-env babel-jest\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u63A5\u8457\u5728\u5C08\u6848\u6839\u76EE\u9304\u65B0\u589E\u4E00\u500B babel.config.json \u6A94\u6848\uFF0C\u5167\u5BB9\u5982\u4E0B\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "presets": ["@babel/preset-env"]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u4E26\u5728 package.json \u4E2D\u65B0\u589E jest transform \u7684\u8A2D\u5B9A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "jest": {\n    "transform": {\n      "^.+\\\\.js$": "babel-jest"\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u65B7\u8A00\u5EAB\u57FA\u672C\u8A9E\u6CD5",children:"\u65B7\u8A00\u5EAB\uFF08\u57FA\u672C\u8A9E\u6CD5\uFF09"}),"\n",(0,i.jsx)(n.p,{children:"\u5047\u8A2D\u6709\u4E00\u500B\u52A0\u7E3D\u7684\u51FD\u5F0F\u5982\u4E0B\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"title='sum.js'",children:"const sum = (a, b) => {\n  return a + b;\n};\nexport default sum;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u6E2C\u8A66\u9019\u500B\u51FD\u5F0F\u5C31\u6703\u50CF\u9019\u6A23\uFF1A"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"title='sum.test.js'",children:'import sum from "./sum";\n\ndescribe("testing sum function", () => {\n  it("adds 1 + 2 to equal 3", () => {\n    expect(sum(1, 2)).toBe(3);\n  });\n});\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u9019\u908A\u5C31\u5305\u542B\u5E7E\u500B\u57FA\u672C\u7684\u8A9E\u6CD5"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"describe\uFF1A\u63CF\u8FF0\u5927\u7BC4\u570D\u7684\u6E2C\u8A66\u5167\u5BB9"}),"\n",(0,i.jsx)(n.li,{children:"test / it\uFF1A\u63CF\u8FF0\u8A73\u7D30\u7684\u6E2C\u8A66\u6848\u4F8B\u5167\u5BB9"}),"\n",(0,i.jsx)(n.li,{children:"expect\uFF1A\u65B7\u8A00\u51FD\u5F0F"}),"\n",(0,i.jsx)(n.li,{children:"toBe\uFF1A\u65B7\u8A00\u51FD\u5F0F\u7684\u65B9\u6CD5"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u6E2C\u8A66\u6642\u5728 Terminal \u4E0B\u6307\u4EE4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx jest sum.test.js\n"})}),"\n",(0,i.jsx)(n.p,{children:"Jest \u5C31\u6703\u53BB\u8DD1\u6E2C\u8A66\u6848\u4F8B\uFF0C\u986F\u793A\u662F\u5426\u901A\u904E\u6E2C\u8A66"}),"\n",(0,i.jsx)(r.Ei,{src:a}),"\n",(0,i.jsx)(n.h3,{id:"\u6A21\u64EC\u51FD\u5F0F",children:"\u6A21\u64EC\u51FD\u5F0F"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u5BEB\u6E2C\u8A66\u6642\uFF0C\u8981\u76E1\u91CF\u628A\u6E2C\u8A66\u7684\u9805\u76EE\u55AE\u4E00\u5316\uFF0C\u6240\u4EE5\u5982\u679C\u51FD\u5F0F\u88E1\u6709\u501F\u52A9\u5916\u90E8\u7684\u6A21\u7D44\u6216\u51FD\u5F0F\uFF0C\u5C31\u6703\u9700\u8981\u4F7F\u7528\u6A21\u64EC\u51FD\u5F0F\u7684\u65B9\u5F0F\uFF0C\u65B9\u4FBF\u6211\u5011\u9032\u884C\u6E2C\u8A66\u3002\n\u6BD4\u8F03\u5E38\u898B\u7684\u4F8B\u5B50\u50CF\u662F\u4F7F\u7528 axios \u53BB\u767C API \u8ACB\u6C42\uFF0C\u9019\u6642\u5019\u5C31\u6703\u9700\u8981\u6A21\u64EC axios \u7684\u51FD\u5F0F\uFF0C\u8B93\u6E2C\u8A66\u66F4\u52A0\u55AE\u7D14\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u9019\u908A\u6211\u53BB\u6293 ",(0,i.jsx)(n.a,{href:"https://jsonplaceholder.typicode.com/",children:"jsonplaceholder API"})," \u7684\u4F7F\u7528\u8005\u540D\u7A31\uFF0C\u7136\u5F8C\u628A\u8CC7\u6599\u7D93\u904E\u8655\u7406\u56DE\u50B3\u51FA\u4F86\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"title='fetchData.js'",children:'import axios from "axios";\n\nconst fetchData = async () => {\n  // \u4F7F\u7528 axios.get\n  const data = await axios.get("https://jsonplaceholder.typicode.com/users/1");\n  const content = `My name is ${data.username}`;\n  return content;\n};\n\nexport default fetchData;\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u7576\u6211\u8981\u6E2C\u8A66\u9019\u500B\u51FD\u5F0F\u6642\uFF0C\u5C31\u9700\u8981\u53BB\u6A21\u64EC axios \u7684\u56DE\u50B3\u8CC7\u6599\uFF0C\u9019\u908A\u4F7F\u7528 ",(0,i.jsx)(n.code,{children:"jest.mock"})," \u53BB\u6A21\u64EC axios\uFF0C\u518D\u4F7F\u7528 ",(0,i.jsx)(n.code,{children:"mockResolvedValue()"})," \u65B9\u6CD5\u53BB\u6A21\u64EC\u56DE\u50B3\u7684\u8CC7\u6599\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"title='fetchData.test.js'",children:'import axios from "axios";\nimport fetchData from "./fetchData";\n\njest.mock("axios"); // \u6A21\u64EC axios\n\ndescribe("testing fetchData function", () => {\n  it("fetchData", async () => {\n    axios.get.mockResolvedValue({ username: "Bret" }); // \u6A21\u64EC axios.get \u56DE\u50B3\n    const data = await fetchData();\n    expect(data).toBe("My name is Bret");\n  });\n});\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u9019\u6A23\u5C31\u53EF\u4EE5\u5C08\u6CE8\u5728\u6E2C\u8A66 fetchData \u51FD\u5F0F\u672C\u8EAB\uFF0C\u4E5F\u4E0D\u6703\u771F\u7684\u767C API \u51FA\u53BB\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u6E2C\u8A66\u8986\u84CB\u7387",children:"\u6E2C\u8A66\u8986\u84CB\u7387"}),"\n",(0,i.jsx)(n.p,{children:"Jest \u6709\u63D0\u4F9B\u4E00\u500B\u6E2C\u8A66\u8986\u84CB\u7387\u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u986F\u793A\u6709\u591A\u5C11\u7684\u7A0B\u5F0F\u78BC\u6709\u88AB\u6E2C\u8A66\u5230\uFF0C\u53EA\u8981\u4E0B\u6307\u4EE4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"jest --coverage\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5C31\u6703\u5728 Terminal \u986F\u793A\u51FA\u5404\u500B\u6A94\u6848\u7684\u6E2C\u8A66\u8986\u84CB\u7387"}),"\n",(0,i.jsx)(r.Ei,{src:d}),"\n",(0,i.jsx)(n.p,{children:"\u4E0D\u904E\u9019\u6A23\u5176\u5BE6\u5F88\u4E0D\u597D\u770B\uFF0C\u6240\u4EE5 Jest \u4E5F\u63D0\u4F9B\u4E86\u7DB2\u9801\u7248\u7684\u6E2C\u8A66\u8986\u84CB\u7387\u5831\u544A\uFF0C\u5728\u4E0B\u6307\u4EE4\u7684\u540C\u6642\uFF0C\u6703\u5EFA\u7ACB\u4E00\u500B coverage \u7684\u6A94\u6848\u593E\uFF0Clcov-report \u88E1\u9762\u6703\u6709\u4E00\u500B index.html\uFF0C\u6253\u958B\u6A94\u6848\u5C31\u53EF\u4EE5\u770B\u5230\u7DB2\u9801\u7248\u7684\u6E2C\u8A66\u8986\u84CB\u7387\u5831\u544A\u3002"}),"\n",(0,i.jsx)(r.Ei,{src:h}),"\n",(0,i.jsx)(n.p,{children:"\u6E2C\u8A66\u8986\u84CB\u7387\u6709\u56DB\u500B\u6307\u6A19\uFF1A"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Statements"}),"\uFF1A\u6709\u591A\u5C11\u6BD4\u4F8B\u7684\u8A9E\u53E5\u88AB\u6E2C\u8A66\u5230\uFF0C\u4E00\u500B console.log \u5C31\u7B97\u4E00\u500B\u8A9E\u53E5\uFF0C\u4E00\u884C\u7A0B\u5F0F\u78BC\u53EF\u4EE5\u6709\u591A\u500B\u8A9E\u53E5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Branches"}),"\uFF1A\u689D\u4EF6\u8A9E\u53E5\uFF0C\u4F8B\u5982 if\u3001else\u3001switch \u7B49\u7B49"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Functions"}),"\uFF1A\u51FD\u5F0F\u6709\u88AB\u57F7\u884C\u5230\u7684\u6BD4\u4F8B"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Lines"}),"\uFF1A\u7A0B\u5F0F\u78BC\u6709\u88AB\u57F7\u884C\u5230\u7684\u884C\u6578\u91CF\uFF0C\u6578\u91CF\u901A\u5E38\u6703\u6BD4 Statements \u5C11\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6BD4\u8F03\u91CD\u8981\u7684\u6307\u6A19\u662F ",(0,i.jsx)(n.em,{children:"Branch"})," \u8DDF ",(0,i.jsx)(n.em,{children:"Function"}),"\uFF0C\u56E0\u70BA\u9019\u5169\u500B\u6307\u6A19\u6703\u662F\u529F\u80FD\u53CA\u908F\u8F2F\u7684\u6838\u5FC3\uFF0C\u6240\u4EE5\u8981\u76E1\u91CF\u8B93\u9019\u5169\u500B\u6307\u6A19\u90FD\u9054\u5230 100%\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5FEB\u7167\u6E2C\u8A66-snapshot",children:"\u5FEB\u7167\u6E2C\u8A66 Snapshot"}),"\n",(0,i.jsx)(n.p,{children:"\u5FEB\u7167\u9867\u540D\u601D\u7FA9\u5C31\u662F\u5FEB\u901F\u7684\u62CD\u7167\uFF0C\u53EA\u662F\u5728\u9019\u908A\u7684\u7167\u7247\u6307\u7684\u662F UI \u7684\u756B\u9762\uFF0C\u4E5F\u5C31\u662F DOM \u7684\u7D50\u69CB\uFF0C\u5FEB\u7167\u6E2C\u8A66\u7684\u76EE\u7684\u662F\u53EF\u4EE5\u5FEB\u901F\u7684\u6AA2\u67E5 UI \u662F\u5426\u6709\u8B8A\u52D5\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["Jest \u63D0\u4F9B ",(0,i.jsx)(n.code,{children:"toMatchSnapshot()"})," \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5C07 DOM \u7D50\u69CB\u5132\u5B58\u8D77\u4F86\uFF0C\u4E0B\u6B21\u6E2C\u8A66\u6642\u5C31\u53EF\u4EE5\u6BD4\u5C0D\u662F\u5426\u6709\u8B8A\u52D5\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5047\u8A2D\u6709\u4E00\u500B\u51FD\u5F0F\u6703\u50B3\u5165\u6A19\u984C\u6587\u5B57\uFF0C\u7136\u5F8C\u56DE\u50B3\u4E00\u500B ",(0,i.jsx)(n.code,{children:"<h1></h1>"}),"\uFF0C\u88E1\u9762\u5305\u542B\u6A19\u984C\u7684\u5167\u5BB9\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"title='getTitleContent.js'",children:"const getTitleContent = (title) => {\n  return `<h1>${title}</h1>`;\n};\n\nexport default getTitleContent;\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9019\u6642\u5019\u5C31\u53EF\u4EE5\u4F7F\u7528 toMatchSnapshot \u65B9\u6CD5\uFF0C\u5C07 DOM \u7D50\u69CB\u5132\u5B58\u8D77\u4F86\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:"title='getTitleContent.test.js'",children:'import getTitleContent from "./getTitleContent";\n\ndescribe("testing getTitleContent function", () => {\n  it("getTitleContent with \'Hello World\' ", () => {\n    const title = "Hello World";\n    const content = getTitleContent(title);\n    expect(content).toMatchSnapshot();\n  });\n});\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7B2C\u4E00\u6B21\u57F7\u884C\u6E2C\u8A66\u6642\uFF0C\u53EF\u4EE5\u770B\u5230\u5B83\u6703\u628A DOM \u7D50\u69CB\u5132\u5B58\u8D77\u4F86\uFF0C\u4E26\u4E14\u901A\u904E\u6E2C\u8A66\u3002"}),"\n",(0,i.jsx)(r.Ei,{src:o}),"\n",(0,i.jsx)(n.p,{children:"\u540C\u6642\u6703\u5728\u6A94\u6848\u593E\u4E2D\u5EFA\u7ACB\u4E00\u500B snapshots \u7684\u6A94\u6848\u593E\uFF0C\u88E1\u9762\u6703\u6709\u4E00\u500B getTitleConent.test.js.snap \u7684\u6A94\u6848\u5132\u5B58\u5FEB\u7167\u3002"}),"\n",(0,i.jsx)(r.Ei,{src:x}),"\n",(0,i.jsx)(n.p,{children:"\u4F86\u770B\u4E00\u4E0B\u88E1\u9762\u7684\u5167\u5BB9\uFF0C\u53EF\u4EE5\u767C\u73FE\u4ED6\u662F\u4F7F\u7528 describe \u52A0 it \u7684\u6E2C\u8A66\u63CF\u8FF0\uFF0C\u53BB\u7528 array \u7684\u65B9\u5F0F\u5132\u5B58 DOM \u7D50\u69CB\u3002"}),"\n",(0,i.jsx)(r.Ei,{src:j}),"\n",(0,i.jsx)(n.p,{children:"\u90A3\u73FE\u5728\u6211\u5011\u518D\u91CD\u65B0\u8DD1\u4E00\u6B21\u6E2C\u8A66\uFF0C\u9019\u6B21\u628A Hello World \u6539\u6210 Hello Jest"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'describe("testing getTitleConent function", () => {\n  it("getTitleConent with \'Hello Jest\' ", () => {\n    const title = "Hello Jest";\n    const content = getTitleConent(title);\n    expect(content).toMatchSnapshot();\n  });\n});\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5C31\u6703\u767C\u73FE\u6E2C\u8A66\u5931\u6557\uFF0C\u4E26\u4E14\u986F\u793A\u6709\u54EA\u4E9B\u5730\u65B9\u4E0D\u4E00\u6A23\u3002"}),"\n",(0,i.jsx)(r.Ei,{src:p}),"\n",(0,i.jsx)(n.p,{children:"\u90A3\u5982\u679C\u6211\u5011\u78BA\u5B9A\u9019\u500B\u8B8A\u52D5\u662F\u6B63\u78BA\u7684\uFF0C\u5C31\u53EF\u4EE5\u4E0B\u6307\u4EE4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx jest --updateSnapshot\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6216\u662F\u4F7F\u7528 ",(0,i.jsx)(n.a,{href:"https://jestjs.io/docs/cli#--watch",children:"watch"})," \u6A21\u5F0F\uFF0C\u8F38\u5165 u \u5C31\u53EF\u4EE5\u66F4\u65B0\u5FEB\u7167\u4E86\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5FEB\u7167\u6E2C\u8A66\u4E4D\u770B\u4E4B\u4E0B\u597D\u50CF\u6C92\u6709\u4EC0\u9EBC\u7528\u8655\uFF0C\u5F88\u5E38 UI \u756B\u9762\u6703\u6709\u6240\u8B8A\u52D5\uFF0C\u800C\u4E14\u5C31\u7B97\u6E2C\u8A66\u5931\u6557\u4E5F\u53EF\u4EE5\u66F4\u65B0\u5FEB\u7167\u3002\u6240\u4EE5\u5FEB\u7167\u6E2C\u8A66\u6BD4\u8F03\u50CF\u662F\u4E00\u7A2E\u63D0\u9192\uFF0C\u8DDF\u4F60\u8AAA\uFF1A\u300C\u6B38\uFF0C\u9019\u908A\u597D\u50CF\u6709\u4E0D\u4E00\u6A23\u5594\uFF0C\u4F60\u8981\u4E0D\u8981\u6AA2\u67E5\u770B\u770B\u300D\u7684\u9019\u7A2E\u611F\u89BA\uFF0C\u4F7F\u7528\u6642\u6A5F\u4E0A\u4E5F\u6BD4\u8F03\u9069\u5408\u5728 UI \u5927\u81F4\u78BA\u5B9A\u7684\u60C5\u6CC1\u4E0B\u505A\u4F7F\u7528\uFF0C\u624D\u4E0D\u6703\u5F88\u5E38\u8DD1\u6E2C\u8A66\u6C92\u904E\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"jest-vs-code-extension",children:"Jest VS Code Extension"}),"\n",(0,i.jsxs)(n.p,{children:["\u9019\u908A\u4ECB\u7D39\u4E00\u500B\u597D\u7528\u7684 VS Code Extension\uFF0C",(0,i.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=firsttris.vscode-jest-runner",children:"Jest Runner"}),"\uFF0C\u53EF\u4EE5\u5728 VS Code \u4E2D\u76F4\u63A5\u57F7\u884C Jest \u6E2C\u8A66\uFF0C\u4E0D\u7528\u518D\u53BB Terminal \u4E0B\u6307\u4EE4\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u4ECA\u5929\u7684\u90E8\u5206\u5C31\u5230\u9019\u88E1\u5566\uFF5E\u4E0B\u4E00\u7BC7\u4F86\u4ECB\u7D39 Jest \u7684\u9032\u968E\u7528\u6CD5\uFF0C\u5305\u542B\u6A21\u64EC\u6642\u9593\u3001\u6E2C\u8A66\u7570\u6B65\u51FD\u5F0F\u7B49\u7B49\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u53C3\u8003\u8CC7\u6599",children:"\u53C3\u8003\u8CC7\u6599"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://stackoverflow.com/questions/35756479/does-jest-support-es6-import-export",children:"Does Jest support ES6 import/export?"})})]})}function y(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(b,{...e})}):b(e)}},4634:function(e,n,t){t.d(n,{Z:function(){return l}});var s=t(5893);t(7294);var i=t(6735);function l(e){let{children:n,fallback:t}=e;return(0,i.Z)()?(0,s.jsx)(s.Fragment,{children:n?.()}):t??null}},8239:function(e,n,t){t.d(n,{Ei:function(){return r},gO:function(){return c},nI:function(){return a}});var s=t(5893),i=t(4634),l=t(1195);t(7294);let r=e=>{let{src:n,width:t="100%",center:i=!1,style:l={}}=e,r={width:`min(100%,${t})`,display:i?"block":"inline-block",margin:i?"0 auto":"0",borderRadius:"5px",...l};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:n,style:{...r}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})},c=e=>{let{children:n,width:t="100%",center:r=!1,style:c={}}=e;return(0,s.jsx)(i.Z,{children:()=>{let{sm:e}=(0,l.Z)(),i={width:`min(100%,${t})`,margin:r?"0 auto":"0",display:"flex",flexDirection:e?"column":"row",gap:"10px",alignItems:"center",...c};return(0,s.jsx)("div",{style:{...i},children:n})}})},a=e=>{let{style:n,width:t="100%",src:i}=e,l={width:`min(100%,${t})`,flex:1,...n};return(0,s.jsx)("div",{style:{...l},children:(0,s.jsx)(r,{src:i})})}},1195:function(e,n,t){t.d(n,{Z:function(){return i}});var s=t(7294);let i=()=>{let[e,n]=(0,s.useState)({width:window.innerWidth,height:window.innerHeight}),[t,i]=(0,s.useState)(!1);return(0,s.useLayoutEffect)(()=>{let e=()=>{let{innerWidth:e,innerHeight:t}=window;n({width:e,height:t}),i(e<=635)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{sm:t,windowSize:e}}},65:function(e,n,t){t.d(n,{Z:function(){return c},a:function(){return r}});var s=t(7294);let i={},l=s.createContext(i);function r(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);