"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8103],{4494:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>P,contentTitle:()=>L,default:()=>U,frontMatter:()=>A,metadata:()=>D,toc:()=>Z});var t=s(5893),l=s(1151),r=s(7294),a=s(6905),i=s(2466),o=s(6550),c=s(469),u=s(1980),d=s(7392),h=s(12);function p(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function m(e){const{values:n,children:s}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return p(e).map((e=>{let{props:{value:n,label:s,attributes:t,default:l}}=e;return{value:n,label:s,attributes:t,default:l}}))}(s);return function(e){const n=(0,d.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function b(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:s}=e;const t=(0,o.k6)(),l=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,u._X)(l),(0,r.useCallback)((e=>{if(!l)return;const n=new URLSearchParams(t.location.search);n.set(l,e),t.replace({...t.location,search:n.toString()})}),[l,t])]}function j(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,l=m(e),[a,i]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!b({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=s.find((e=>e.default))??s[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:l}))),[o,u]=x({queryString:s,groupId:t}),[d,p]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,l]=(0,h.Nk)(s);return[t,(0,r.useCallback)((e=>{s&&l.set(e)}),[s,l])]}({groupId:t}),j=(()=>{const e=o??d;return b({value:e,tabValues:l})?e:null})();(0,c.Z)((()=>{j&&i(j)}),[j]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!b({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),p(e)}),[u,p,l]),tabValues:l}}var g=s(2389);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:n,block:s,selectedValue:l,selectValue:r,tabValues:o}=e;const c=[],{blockElementScrollPositionUntilNextRender:u}=(0,i.o5)(),d=e=>{const n=e.currentTarget,s=c.indexOf(n),t=o[s].value;t!==l&&(u(n),r(t))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{const s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1];break}}n?.focus()};return(0,t.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":s},n),children:o.map((e=>{let{value:n,label:s,attributes:r}=e;return(0,t.jsx)("li",{role:"tab",tabIndex:l===n?0:-1,"aria-selected":l===n,ref:e=>c.push(e),onKeyDown:h,onClick:d,...r,className:(0,a.Z)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":l===n}),children:s??n},n)}))})}function w(e){let{lazy:n,children:s,selectedValue:l}=e;const a=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===l));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,t.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==l})))})}function y(e){const n=j(e);return(0,t.jsxs)("div",{className:(0,a.Z)("tabs-container",f.tabList),children:[(0,t.jsx)(v,{...e,...n}),(0,t.jsx)(w,{...e,...n})]})}function k(e){const n=(0,g.Z)();return(0,t.jsx)(y,{...e,children:p(e.children)},String(n))}const E={tabItem:"tabItem_Ymn6"};function S(e){let{children:n,hidden:s,className:l}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,a.Z)(E.tabItem,l),hidden:s,children:n})}var N=s(5397);const I=s.p+"assets/images/bun-1-d67d3db7262fd983c6c4875f47417cb5.png",V=s.p+"assets/images/bun-2-c87654f54249c6b6608202a5e1ff0671.png",C=s.p+"assets/images/bun-3-6a7bbd54016c155051e6972fa7f6fce9.png",T=s.p+"assets/images/bun-4-137f67ac9d9fe5fd9b26aa175c94c145.png",_=s.p+"assets/images/bun-5-d9fe2a0557844f26f3902e3a2186f4e1.png",q=s.p+"assets/images/bun-6-c50d9c626cce243ec8f1058ee88113f6.png",M=s.p+"assets/images/bun-7-44928458746d84bc74a7a27b896e093a.png",J=s.p+"assets/images/bun-8-515ce640db2a16209309a798f9035aed.png",A={title:"\u3010Npm\u3011bun 1.0 \u767c\u5e03\uff01node \u5373\u5c07\u88ab\u53d6\u4ee3\uff1f",sidebar_label:"bun 1.0 \u767c\u5e03\uff01node \u5373\u5c07\u88ab\u53d6\u4ee3\uff1f",tags:["Npm","bun","node"]},L=void 0,D={id:"Npm/bun",title:"\u3010Npm\u3011bun 1.0 \u767c\u5e03\uff01node \u5373\u5c07\u88ab\u53d6\u4ee3\uff1f",description:"\u5728\u6700\u8fd1 (2023/09/08) bun \u63a8\u51fa\u4e86 1.0 \u7a69\u5b9a\u7248\uff0c\u4e00\u767c\u5e03\u99ac\u4e0a\u770b\u5230\u5f88\u591a\u4eba\u5728\u8f49\u767c\uff0c\u6709\u671b\u53d6\u4ee3 node \u7684\u611f\u89ba\uff0c\u5c31\u4f86\u770b\u770b bun \u5230\u5e95\u662f\u4ec0\u9ebc\u5427\uff01",source:"@site/docs/Npm/bun.mdx",sourceDirName:"Npm",slug:"/Npm/bun",permalink:"/Npm/bun",draft:!1,unlisted:!1,tags:[{label:"Npm",permalink:"/tags/npm"},{label:"bun",permalink:"/tags/bun"},{label:"node",permalink:"/tags/node"}],version:"current",lastUpdatedAt:1702447300,formattedLastUpdatedAt:"2023\u5e7412\u670813\u65e5",frontMatter:{title:"\u3010Npm\u3011bun 1.0 \u767c\u5e03\uff01node \u5373\u5c07\u88ab\u53d6\u4ee3\uff1f",sidebar_label:"bun 1.0 \u767c\u5e03\uff01node \u5373\u5c07\u88ab\u53d6\u4ee3\uff1f",tags:["Npm","bun","node"]},sidebar:"tutorialSidebar",previous:{title:"Npm",permalink:"/category/npm"},next:{title:"npm \u548c npx \u7684\u5dee\u5225\uff1f",permalink:"/Npm/npm-npx"}},P={},Z=[{value:"\u4ec0\u9ebc\u662f bun",id:"\u4ec0\u9ebc\u662f-bun",level:2},{value:"\u5b89\u88dd bun",id:"\u5b89\u88dd-bun",level:2},{value:"\u57f7\u884c\u901f\u5ea6\u5feb",id:"\u57f7\u884c\u901f\u5ea6\u5feb",level:2},{value:"\u53ef\u76f4\u63a5\u7de8\u8b6f ts\u3001jsx \u6a94\u6848",id:"\u53ef\u76f4\u63a5\u7de8\u8b6f-tsjsx-\u6a94\u6848",level:2},{value:"node",id:"node",level:3},{value:"bun vs tsx vs ts-node",id:"bun-vs-tsx-vs-ts-node",level:3},{value:"\u53ef\u4ee5\u540c\u6642\u7de8\u8b6f ESM \u8ddf CommonJS \u6a94\u6848",id:"\u53ef\u4ee5\u540c\u6642\u7de8\u8b6f-esm-\u8ddf-commonjs-\u6a94\u6848",level:2},{value:"node",id:"node-1",level:3},{value:"bun",id:"bun",level:3},{value:"\u5b89\u88dd\u5957\u4ef6",id:"\u5b89\u88dd\u5957\u4ef6",level:2},{value:"\u6e2c\u8a66",id:"\u6e2c\u8a66",level:2},{value:"\u7d50\u8ad6",id:"\u7d50\u8ad6",level:2}];function $(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.E,{src:I}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u6700\u8fd1 (2023/09/08) bun \u63a8\u51fa\u4e86 ",(0,t.jsx)(n.a,{href:"https://bun.sh/blog/bun-v1.0",children:"1.0 \u7a69\u5b9a\u7248"}),"\uff0c\u4e00\u767c\u5e03\u99ac\u4e0a\u770b\u5230\u5f88\u591a\u4eba\u5728\u8f49\u767c\uff0c\u6709\u671b\u53d6\u4ee3 node \u7684\u611f\u89ba\uff0c\u5c31\u4f86\u770b\u770b bun \u5230\u5e95\u662f\u4ec0\u9ebc\u5427\uff01"]}),"\n",(0,t.jsx)(n.h2,{id:"\u4ec0\u9ebc\u662f-bun",children:"\u4ec0\u9ebc\u662f bun"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Bun is a fast, all-in-one toolkit for running, building, testing, and debugging JavaScript and TypeScript"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u57fa\u672c\u4e0a bun \u8ddf node \u4e00\u6a23\uff0c\u90fd\u662f JavaScript \u7684 ",(0,t.jsx)(n.strong,{children:"runtime(\u57f7\u884c\u74b0\u5883)"}),"\uff0c\u4e0d\u904e\u4e3b\u6253\u6bd4 node \u904b\u884c\u9084\u5feb\u901f\uff0c\u89e3\u6c7a\u4e86\u5f88\u591a node \u7684\u75db\u9ede\uff0c\u800c\u4e14\u9084\u53ef\u4ee5\u76f8\u5bb9 node / npm\uff0c\u5b98\u7db2\u5217\u51fa\u4f86\u7684\u512a\u52e2\u53ef\u5927\u81f4\u5206\u70ba\uff1a"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u57f7\u884c\u901f\u5ea6\u5feb"}),"\uff1a\u5b98\u7db2\u8072\u7a31\u8dd1\u4e00\u500b hello world \u7684 JavaScript \u6a94\u6848\u6bd4 node.js \u9084\u8981\u5feb 4 \u500d\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u53ef\u4ee5\u76f4\u63a5\u7de8\u8b6f TypeScript \u53ca JSX \u6a94\u6848"}),"\uff1a\u4e0d\u9700\u8981\u984d\u5916\u5b89\u88dd\u4e00\u5806\u50cf\u662f ts-node\u3001babel \u4e4b\u985e\u7684\u5957\u4ef6\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u53ef\u4ee5\u540c\u6642\u7de8\u8b6f ESM \u8ddf CommonJS \u6a94\u6848"}),"\uff1a\u4e0d\u7528\u6bcf\u6b21\u90fd\u9700\u8981\u5b9a\u7fa9 type: module \u7b49\u7b49\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 Web API"}),"\uff1a\u50cf\u662f fetch\u3001WebSocket \u7b49\u7b49\uff0c\u4e0d\u9700\u8981\u518d\u984d\u5916\u5b89\u88dd node-fetch\u3002(\u4e0d\u904e fetch API \u5728 node 18.0.0 \u5f8c\u53ef\u4ee5\u4f7f\u7528\u4e86)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u53ef\u4ee5\u76f4\u63a5\u555f\u52d5\u5373\u6642\u66f4\u65b0"}),"\uff1a\u53ea\u8981\u4e0b --hot \u5c31\u53ef\u4ee5\u555f\u52d5\u5373\u6642\u66f4\u65b0\uff0c\u4e0d\u9700\u8981\u984d\u5916\u5b89\u88dd nodemon\u3002(\u4e0d\u904e node 18.13.0 \u5f8c \u53ef\u4ee5\u4f7f\u7528 --watch \u4e86)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u53d6\u4ee3 npm"}),"\uff1a\u5c31\u7b97\u4e0d\u4f7f\u7528 bun \u7684 runtime\uff0c\u4e5f\u53ef\u4ee5\u7576\u4f5c\u4e00\u822c\u7684 package manager \u4f7f\u7528\uff0c\u4e14\u5b89\u88dd\u901f\u5ea6\u66f4\u5feb\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u540c\u6642\u662f\u4e00\u500b test runner"}),"\uff1a\u76f4\u63a5\u53d6\u4ee3\u6389 Jest\uff0c\u901f\u5ea6\u751a\u81f3\u6bd4 Vitest \u9084\u5feb\u3002(\u4e0d\u904e node 20.0.0 \u5f8c\u53ef\u4ee5\u8dd1\u6e2c\u8a66\u4e86)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88dd-bun",children:"\u5b89\u88dd bun"}),"\n",(0,t.jsxs)(k,{children:[(0,t.jsx)(S,{value:"npm",label:"npm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -g bun\n"})})}),(0,t.jsx)(S,{value:"brew",label:"brew",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"brew tap oven-sh/bun\nbrew install bun\n"})})})]}),"\n",(0,t.jsx)(n.p,{children:"\u4e0b\u8f09\u5b8c\u78ba\u8a8d\u6709\u5b89\u88dd\u5230\u5c31\u53ef\u4ee5\u4f7f\u7528\u56c9\uff01"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun --version\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u57f7\u884c\u901f\u5ea6\u5feb",children:"\u57f7\u884c\u901f\u5ea6\u5feb"}),"\n",(0,t.jsxs)(n.p,{children:["\u4e4b\u6240\u4ee5 bun \u57f7\u884c\u901f\u5ea6\u90a3\u9ebc\u5feb\uff0c\u662f\u56e0\u70ba\u76f8\u8f03\u65bc node.js \u6216\u5176\u4ed6\u57f7\u884c\u74b0\u5883\u90fd\u662f\u4f7f\u7528 Google \u7684 ",(0,t.jsx)(n.strong,{children:"V8 \u5f15\u64ce"}),"\uff0cbun \u4f7f\u7528\u7684\u662f Apple \u672c\u8eab\u63d0\u4f9b\u7684 ",(0,t.jsx)(n.a,{href:"https://webkit.org/",children:"WebKit"})," \u5f15\u64ce\uff0c\u4e5f\u5c31\u662f safari \u80cc\u5f8c\u7684\u5f15\u64ce\uff0c\u6240\u4ee5\u76ee\u524d bun \u53ea\u80fd\u5728 macOS \u4e0a\u57f7\u884c\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u4ee5\u6e2c\u8a66\u5370\u51fa\u4e00\u500b hello world \u70ba\u4f8b\uff0c\u4f86\u6bd4\u8f03\u4e00\u4e0b\u4ed6\u5011\u7684\u901f\u5ea6\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="hello.js"',children:'console.time("hello");\nconsole.log("hello world");\nconsole.timeEnd("hello");\n'})}),"\n",(0,t.jsx)(N.E,{src:V,width:"500px"}),"\n",(0,t.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\u9019\u500b\u901f\u5ea6\u6839\u672c\u8d85\u904e 10 \u500d\u4e86\uff01\u4e0d\u904e\u9019\u7a2e\u7c21\u55ae\u7684 console.log \u6709\u6642\u5019\u6e2c\u8d77\u4f86\u4e0d\u592a\u6e96\uff0c\u4f86\u6e2c\u4e00\u500b 1000000 \u6b21\u7684\u8ff4\u5708\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="loop.js"',children:'console.time("time");\nlet result = 0;\nfor (let i = 0; i < 1000000; i++) {\n  result += i;\n}\nconsole.log(result);\nconsole.timeEnd("time");\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u7d50\u679c\uff1a"}),"\n",(0,t.jsx)(N.E,{src:C,width:"500px"}),"\n",(0,t.jsx)(n.p,{children:"\u597d\u50cf\u5dee\u4e0d\u591a\u662f\u56db\u500d\u5de6\u53f3\uff0c\u4e0d\u904e\u8ff4\u5708\u6b21\u6578\u8d8a\u591a\uff0c\u5169\u500b\u6703\u8d8a\u63a5\u8fd1\uff0c\u5e73\u5747\u4e0b\u4f86 bun \u78ba\u5be6\u6bd4 node \u5feb\u4e0a\u8a31\u591a\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u53ef\u76f4\u63a5\u7de8\u8b6f-tsjsx-\u6a94\u6848",children:"\u53ef\u76f4\u63a5\u7de8\u8b6f ts\u3001jsx \u6a94\u6848"}),"\n",(0,t.jsx)(n.p,{children:"\u9019\u500b\u771f\u7684\u883b\u4e0d\u932f\u7684\uff0c\u53ef\u4ee5\u4e0d\u7528\u518d\u5b89\u88dd\u6709\u7684\u6c92\u7684\u5957\u4ef6\uff0c\u57f7\u884c\u901f\u5ea6\u4e5f\u6bd4 tsc \u5feb\u3002\u4ee5\u4e00\u500b\u7c21\u55ae\u7684 ts \u6a94\u6848\u70ba\u4f8b\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="sum.ts"',children:"const sum = (a: number, b: number) => a + b;\nconsole.log(sum(1, 2));\n"})}),"\n",(0,t.jsx)(n.h3,{id:"node",children:"node"}),"\n",(0,t.jsx)(N.E,{src:T,width:"500px"}),"\n",(0,t.jsx)(n.p,{children:"\u6b63\u5e38\uff0cnode \u7121\u6cd5\u7de8\u8b6f TypeScript"}),"\n",(0,t.jsx)(n.h3,{id:"bun-vs-tsx-vs-ts-node",children:"bun vs tsx vs ts-node"}),"\n",(0,t.jsx)(N.E,{src:_,width:"500px"}),"\n",(0,t.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230 bun \u7684\u901f\u5ea6\u6bd4 tsx \u5feb\u4e0a\u8a31\u591a\uff0c\u4e0d\u904e ts-node \u8dd1\u8d77\u4f86\u8ddf bun \u5dee\u4e0d\u591a\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u53ef\u4ee5\u540c\u6642\u7de8\u8b6f-esm-\u8ddf-commonjs-\u6a94\u6848",children:"\u53ef\u4ee5\u540c\u6642\u7de8\u8b6f ESM \u8ddf CommonJS \u6a94\u6848"}),"\n",(0,t.jsxs)(n.p,{children:["\u4ee5\u5f80\u5728\u4f7f\u7528 ESM \u7684 import / output \u90fd\u9700\u8981\u52a0\u4e0a ",(0,t.jsx)(n.code,{children:"--experimental-modules"})," flag \u555f\u7528 ESM \u652f\u63f4\uff0c\u9084\u8981\u5728 package.json \u5b9a\u7fa9 ",(0,t.jsx)(n.code,{children:"type: module"}),"\uff0c\u6216\u662f\u5c07\u6a94\u540d\u547d\u540d\u70ba .mjs\uff0c\u4f86\u5b9a\u7fa9\u6a94\u6848\u662f\u5426\u70ba ESM\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u96d6\u7136\u5f9e node 13.2.0 \u958b\u59cb\u5c31\u6709\u652f\u63f4\u555f\u7528 ESM \u4e0d\u7528\u518d\u52a0\u4e0a flag\uff0c\u4f46\u6a94\u6848\u662f\u5426\u70ba ESM \u9084\u662f\u9700\u8981\u53e6\u5916\u8a2d\u5b9a\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"node-1",children:"node"}),"\n",(0,t.jsx)(n.p,{children:"\u65b9\u6cd5 1\uff1a\u5b9a\u7fa9 type \u5c6c\u6027"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "type": "module"\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u65b9\u6cd5 2\uff1a\u4f7f\u7528 .mjs \u6a94\u6848"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="index.mjs"',children:'import { sum } from "./sum.js";\nconsole.log(sum(1, 2));\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u73fe\u5728\u5927\u90e8\u5206\u7684\u65b9\u6cd5\u90fd\u662f\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"type: module"})," \u4f86\u5b9a\u7fa9\uff0c\u7562\u7adf\u73fe\u5728\u5e7e\u4e4e\u90fd\u4f7f\u7528 ESM\uff0c\u4e0d\u904e\u6709\u4e9b\u5957\u4ef6\u9084\u662f\u53ea\u652f\u63f4 CommonJS\uff0c\u9019\u6642\u5019\u9084\u9700\u8981\u53e6\u5916\u628a\u6a94\u540d\u6539\u6210 .cjs\uff0c\u4f7f\u7528\u8d77\u4f86\u9084\u662f\u975e\u5e38\u9ebb\u7169\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"bun",children:"bun"}),"\n",(0,t.jsxs)(n.p,{children:["\u76f8\u8f03\u4e4b\u4e0b\uff0cbun \u80fd\u5920",(0,t.jsx)(n.strong,{children:"\u540c\u6642"}),"\u7de8\u8b6f ESM \u8ddf CommonJS\uff0c\u4e0d\u9700\u8981\u984d\u5916\u8a2d\u5b9a\uff0c\u800c\u4e14\u662f\u5728",(0,t.jsx)(n.strong,{children:"\u540c\u4e00\u500b\u6a94\u6848\u4e5f\u53ef\u4ee5\u540c\u6642\u4f7f\u7528"}),"\uff0c\u4e5f\u5c31\u662f\u8aaa\u4e0b\u9762\u9019\u500b"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title="index.js"',children:'import sum from "./sum.js";\nconst sumCommon = require("./sumCommon.js");\n\nconsole.log(sum(1, 2));\nconsole.log(sumCommon(1, 2));\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u662f\u53ef\u4ee5\u57f7\u884c\u7684\uff0c\u662f\u4e0d\u662f\u8d85\u9177\uff01\uff01"}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88dd\u5957\u4ef6",children:"\u5b89\u88dd\u5957\u4ef6"}),"\n",(0,t.jsxs)(n.p,{children:["bun \u53ef\u4ee5\u76f4\u63a5\u7576\u4f5c\u5957\u4ef6\u7ba1\u7406\u5de5\u5177\uff0c\u4e14\u4e0b\u8f09\u901f\u5ea6\u6bd4 npm \u5feb\u5f88\u591a\uff0c\u4ee5\u5b89\u88dd 45.1MB \u7684 ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/antd",children:"antd"})," \u70ba\u4f8b\uff1a"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"npm install"}),":"]}),"\n",(0,t.jsx)(N.E,{src:q,width:"500px"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"bun install"}),":"]}),"\n",(0,t.jsx)(N.E,{src:M,width:"500px"}),"\n",(0,t.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\u901f\u5ea6\u4e0a\u5dee\u883b\u591a\u7684\uff0c\u5b89\u88dd\u5957\u4ef6\u7684\u6642\u5019\u53ef\u4ee5\u8003\u616e\u4f7f\u7528 bun\uff0c\u53ef\u4ee5\u7bc0\u7701\u5f88\u591a\u6642\u9593\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u6e2c\u8a66",children:"\u6e2c\u8a66"}),"\n",(0,t.jsx)(n.p,{children:"bun \u9084\u6709\u4e00\u500b\u6211\u89ba\u5f97\u8d85\u68d2\u7684\u529f\u80fd\uff0c\u5c31\u662f\u53ef\u4ee5\u76f4\u63a5\u8dd1\u6e2c\u8a66\uff0cJest \u6709\u7684\u57fa\u672c\u529f\u80fd bun \u90fd\u6709\uff0c\u800c\u4e14\u901f\u5ea6\u6bd4 Jest \u5feb\u5f88\u591a\u3002"}),"\n",(0,t.jsx)(N.E,{src:J,width:"400px"}),"\n",(0,t.jsx)(n.p,{children:"bun test \u5305\u542b\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Life cycle hooks\uff1a"})," beforeAll\u3001afterAll\u3001beforeEach\u3001afterEach"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mock functions\uff1a"})," bun \u6709\u5305\u542b\u57fa\u672c\u7684 ",(0,t.jsx)(n.code,{children:"jest.fn()"}),"\u3001",(0,t.jsx)(n.code,{children:"jest.spyOn()"})," \u7b49\u7b49\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"snapshot\uff1a"})," \u8ddf Jest \u4e00\u6a23\uff0c\u6703\u7522\u51fa\u4e00\u500b __snapshots__ \u7684\u6a94\u6848\uff0c\u8a18\u9304 UI \u7684\u8b8a\u5316\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"coverage\uff1a"})," \u53ef\u4ee5\u5728 terminal \u986f\u793a coverage\uff0c\u4e0d\u904e\u53ea\u6709 function \u8ddf Line \u7684\u6307\u6a19\uff0c\u4e5f\u6c92\u6709\u50cf Jest \u4e00\u6a23\u6709\u6e2c\u8a66\u5831\u544a\u53ef\u4ee5\u770b\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4e0d\u904e\u6211\u5728\u5be6\u969b\u6e2c\u8a66\u7684\u6642\u5019\uff0c\u767c\u73fe\u9084\u662f\u6c92\u6709\u652f\u63f4\u7684\u5f88\u5b8c\u5584\uff0c\u6c92\u8fa6\u6cd5\u5b8c\u5168\u53d6\u4ee3\u539f\u672c\u7684\u6e2c\u8a66\u5de5\u5177\u3002\u5982\u679c\u8981\u6574\u5408\u5176\u4ed6\u7684\u6e2c\u8a66\u5957\u4ef6\uff0c\u50cf\u662f jest-dom \u7b49 testing-library \u76ee\u524d\u5b98\u7db2\u90fd\u6c92\u6709\u4efb\u4f55\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u770b\u5230 ",(0,t.jsx)(n.a,{href:"https://github.com/oven-sh/bun/issues/1825",children:"bun test"})," \u9084\u6709\u5f88\u591a\u8a9e\u6cd5\u5f85\u65b0\u589e\uff0c\u6240\u4ee5\u5982\u679c\u8981\u4f7f\u7528 bun test\uff0c\u76ee\u524d\u9084\u662f\u7121\u6cd5\u4f7f\u7528\u5728\u5be6\u969b\u7684\u5c08\u6848\u4e0a\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u7d50\u8ad6",children:"\u7d50\u8ad6"}),"\n",(0,t.jsx)(n.p,{children:"bun \u53ef\u4ee5\u8aaa\u662f\u4e00\u500b\u5f88\u6709\u6f5b\u529b\u7684\u5de5\u5177\uff0c\u5c31\u5b98\u7db2\u4f86\u770b\u5982\u679c\u6301\u7e8c\u767c\u5c55\uff0c\u771f\u7684\u883b\u6709\u6a5f\u6703\u53ef\u4ee5\u53d6\u4ee3 node\uff0c\u4e0d\u904e\u73fe\u968e\u6bb5\u770b\u4f86\u9084\u6709\u5f88\u591a\u554f\u984c\u5f85\u89e3\u6c7a\uff0c\u6709\u8208\u8da3\u53ef\u4ee5\u73a9\u73a9\u770b\uff0c\u6709\u4e9b\u529f\u80fd\u771f\u7684\u883b\u4e0d\u932f\u7684\uff0c\u671f\u5f85\u5b83\u7e7c\u7e8c\u767c\u5c55\uff5e"})]})}function U(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)($,{...e})}):$(e)}},5397:(e,n,s)=>{s.d(n,{E:()=>l});s(7294);var t=s(5893);const l=e=>{let{src:n,width:s="100%",center:l=!1,style:r={}}=e;const a={width:`min(100%,${s})`,display:l?"block":"inline-block",margin:l?"0 auto":"0",borderRadius:"5px",...r};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:n,style:{...a}}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})]})}},1151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>a});var t=s(7294);const l={},r=t.createContext(l);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);