"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["5011"],{3603:function(e,n,t){t.r(n),t.d(n,{metadata:()=>r,contentTitle:()=>c,default:()=>h,assets:()=>d,toc:()=>o,frontMatter:()=>l});var r=JSON.parse('{"id":"ithome2023/day06","title":"[Day 06] React Testing Library \u8A9E\u6CD5\u4ECB\u7D39","description":"\u524D\u9762\u63D0\u5230 Jest \u672C\u8EAB\u6709\u63D0\u4F9B\u5F88\u591A\u6E2C\u8A66\u65B9\u6CD5\uFF0C\u4F46\u5728\u6E2C\u8A66\u4E0A\u90FD\u6BD4\u8F03\u504F\u5411\u908F\u8F2F\u6E2C\u8A66\uFF0C\u50CF\u662F a + b \u662F\u5426\u7B49\u65BC c\u3002\u800C\u5BE6\u969B\u4E0A\u6211\u5011\u6240\u9700\u8981\u7684\u6E2C\u8A66\u6709\u4E00\u5927\u90E8\u5206\u4E5F\u5305\u542B UI \u7684\u6E2C\u8A66\uFF0C\u50CF\u662F\u756B\u9762\u4E0A\u6709\u6C92\u986F\u793A\u6B63\u78BA\u6587\u5B57\uFF0C\u6216\u662F\u4F7F\u7528\u8005\u9EDE\u64CA\u6709\u6C92\u6709\u8DF3\u51FA\u8996\u7A97\u7B49\u7B49\uFF0C\u9019\u6642\u5019\u5C31\u9700\u8981\u4F7F\u7528 Testing Library \u3002","source":"@site/docs/ithome2023/day06.mdx","sourceDirName":"ithome2023","slug":"/ithome2023/day06","permalink":"/ithome2023/day06","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"IT Home 2023","permalink":"/tags/ithome-2023","description":"IT Home \u9435\u4EBA\u8CFD 2023 \u5E74\u7CFB\u5217\u6587\u7AE0"}],"version":"current","lastUpdatedAt":1718173908000,"frontMatter":{"title":"[Day 06] React Testing Library \u8A9E\u6CD5\u4ECB\u7D39","tags":["ithome2023"]},"sidebar":"tutorialSidebar","previous":{"title":"[Day 05] React \u6E2C\u8A66\u5B89\u88DD\u4ECB\u7D39 ( CRA / Vite / Next.js )","permalink":"/ithome2023/day05"},"next":{"title":"[Day 07] \u5BEB\u6E2C\u8A66 AI \u5DE5\u5177\u63A8\u85A6","permalink":"/ithome2023/day07"}}'),s=t("5893"),i=t("65");let l={title:"[Day 06] React Testing Library \u8A9E\u6CD5\u4ECB\u7D39",tags:["ithome2023"]},c=void 0,d={},o=[{value:"Testing Library For React",id:"testing-library-for-react",level:2},{value:"\uD83D\uDCCC @testing-library/react",id:"-testing-libraryreact",level:3},{value:"\uD83D\uDCCC @testing-library/jest-dom",id:"-testing-libraryjest-dom",level:3},{value:"\uD83D\uDCCC @testing-library/user-event",id:"-testing-libraryuser-event",level:3}];function a(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u524D\u9762\u63D0\u5230 Jest \u672C\u8EAB\u6709\u63D0\u4F9B\u5F88\u591A\u6E2C\u8A66\u65B9\u6CD5\uFF0C\u4F46\u5728\u6E2C\u8A66\u4E0A\u90FD\u6BD4\u8F03\u504F\u5411\u908F\u8F2F\u6E2C\u8A66\uFF0C\u50CF\u662F a + b \u662F\u5426\u7B49\u65BC c\u3002\u800C\u5BE6\u969B\u4E0A\u6211\u5011\u6240\u9700\u8981\u7684\u6E2C\u8A66\u6709\u4E00\u5927\u90E8\u5206\u4E5F\u5305\u542B UI \u7684\u6E2C\u8A66\uFF0C\u50CF\u662F\u756B\u9762\u4E0A\u6709\u6C92\u986F\u793A\u6B63\u78BA\u6587\u5B57\uFF0C\u6216\u662F\u4F7F\u7528\u8005\u9EDE\u64CA\u6709\u6C92\u6709\u8DF3\u51FA\u8996\u7A97\u7B49\u7B49\uFF0C\u9019\u6642\u5019\u5C31\u9700\u8981\u4F7F\u7528 Testing Library \u3002"}),"\n",(0,s.jsxs)(n.p,{children:["Testing Library ",(0,s.jsx)(n.a,{href:"https://testing-library.com/docs/",children:"\u6587\u6A94\u4ECB\u7D39"}),"\u958B\u982D\u5C31\u5F88\u660E\u78BA\u7684\u8AAA\u4E86"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"The @testing-library family of packages helps you test UI components in a user-centric way."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4E5F\u5C31\u662F @testing-library \u7CFB\u5217\u7684\u5957\u4EF6\u53EF\u4EE5\u5E6B\u52A9\u4F60\u4EE5\u7528\u6236\u70BA\u4E2D\u5FC3\u7684\u65B9\u5F0F\u6E2C\u8A66 UI \u5143\u4EF6\u3002"}),"\n",(0,s.jsx)(n.p,{children:"Testing Library \u4E0D\u53EA\u63D0\u4F9B\u53EF\u4EE5\u5171\u901A\u4F7F\u7528\u7684\u6E2C\u8A66\u5957\u4EF6\uFF0C\u9084\u6709\u5C08\u70BA\u5404\u500B\u6846\u67B6\u6240\u51FA\u7684\u5957\u4EF6\uFF0C\u57FA\u672C\u7684\u4E09\u5927\u6846\u67B6 React\u3001Vue\u3001Angular \u90FD\u6709\u5C6C\u65BC\u4ED6\u5011\u7684\u6E2C\u8A66 UI \u5957\u4EF6\u3002\u800C\u6BD4\u8F03\u65B0\u7684\u6846\u67B6\u50CF\u662F Preact\u3001Svelte \u4E5F\u90FD\u6709\u5728\u6301\u7E8C\u66F4\u65B0\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"testing-library-for-react",children:"Testing Library For React"}),"\n",(0,s.jsx)(n.p,{children:"\u4EE5 React \u4F86\u8AAA\uFF0C\u642D\u914D Jest \u6703\u9700\u8981\u7684 Testing Libary \u6709\u4EE5\u4E0B\u5E7E\u500B\uFF1A"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.npmjs.com/package/@testing-library/react",children:"@testing-library/react"})," - \u6A21\u64EC React \u6E32\u67D3\uFF0CEx\uFF1Arender\u3001screen"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.npmjs.com/package/@testing-library/jest-dom",children:"@testing-library/jest-dom"})," - \u64F4\u5145 jest \u7684\u65B7\u8A00\u5EAB\uFF0CEx\uFF1AtoBeInTheDocument\u3001toHaveClass"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://www.npmjs.com/package/@testing-library/user-event",children:"@testing-library/user-event"})," - \u6A21\u64EC\u4F7F\u7528\u8005\u64CD\u4F5C\uFF0CEx\uFF1AuseEvent.click\u3001userEvent.type"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u63A5\u4E0B\u4F86\u4F86\u5404\u5225\u4ECB\u7D39\u9019\u4E09\u500B\u7684\u4F7F\u7528\u6642\u6A5F\uFF1A"}),"\n",(0,s.jsx)(n.h3,{id:"-testing-libraryreact",children:"\uD83D\uDCCC @testing-library/react"}),"\n",(0,s.jsx)(n.p,{children:"\u4E3B\u8981\u662F\u63D0\u4F9B\u6A21\u64EC\u6E32\u67D3 UI \u756B\u9762\u7684\u51FD\u5F0F\uFF0C\u6BD4\u8F03\u5E38\u7528\u7684\u6709"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"render()"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5C31\u5982\u540C React \u4E2D\u7684 render\uFF0C\u5C31\u662F\u6A21\u64EC\u6E32\u67D3 React \u5143\u4EF6\uFF0C\u5047\u8A2D\u6709\u4E00\u500B ",(0,s.jsx)(n.code,{children:"<Home/>"})," \u5143\u4EF6\uFF1A"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export const Home = () => {\n  return <h1>Home Page</h1>;\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u8981\u6E2C\u8A66\u5143\u4EF6\u7684 DOM \u5143\u7D20\u6642\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"render()"})," \u51FD\u5F0F\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import { render } from "@testing-library/react";\nimport { Home } from "./Home";\n\ndescribe("testing home component", () => {\n  it("show Home Page in the home component", () => {\n    const { getByText } = render(<Home />);\n    //\u4F7F\u7528 getByText \u5224\u65B7\u6293\u5230\u6587\u5B57\u7684\u5143\u7D20\u662F\u5426\u5B58\u5728\n    expect(getByText("Home Page")).toBeTruthy();\n  });\n});\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"render()"})," \u51FD\u5F0F\u6703\u56DE\u50B3\u4E00\u500B\u7269\u4EF6\u5305\u542B\u4E00\u4E9B\u5C6C\u6027\u5C0D\u8C61\uFF1A"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://testing-library.com/docs/queries/about/",children:"...Query"}),"\uFF1AgetBy\u3001queryBy\u3001findBy\u3001getAllBy\u3001queryAllBy\u3001findAllBy\uFF0C\u53D6\u5F97\u5143\u4EF6\u5167\u7684\u5143\u7D20\u3002"]}),"\n",(0,s.jsx)(n.li,{children:"container\uFF1A\u6E32\u67D3\u7684 DOM \u7BC0\u9EDE\u3002"}),"\n",(0,s.jsx)(n.li,{children:"debug\uFF1A\u5075\u932F\u51FD\u5F0F\uFF0C\u53EF\u4EE5\u986F\u793A\u7576\u524D\u7684 DOM \u7D50\u69CB\u3002"}),"\n",(0,s.jsx)(n.li,{children:"rerender\uFF1A\u91CD\u65B0\u6E32\u67D3\u5143\u4EF6\u3002"}),"\n",(0,s.jsx)(n.li,{children:"unmount\uFF1A\u53D6\u6D88\u6E32\u67D3\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Query \u6709\u5F88\u591A\u4E0D\u540C\u7684\u53D6\u5143\u7D20\u65B9\u6CD5\uFF0C\u6709 get\u3001find\u3001query\uFF0C\u5404\u81EA\u90FD\u6709\u53D6\u5F97\u591A\u5143\u7D20\u7684 all \u65B9\u6CD5"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Query \u7A2E\u985E\\\u7D50\u679C"}),(0,s.jsx)(n.th,{children:"\u6C92\u6709\u7B26\u5408"}),(0,s.jsx)(n.th,{children:"\u4E00\u9805\u7B26\u5408"}),(0,s.jsx)(n.th,{children:"\u591A\u9805\u7B26\u5408"}),(0,s.jsx)(n.th,{children:"\u662F\u5426\u70BA\u975E\u540C\u6B65\u51FD\u5F0F"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"getBy..."}),(0,s.jsx)(n.td,{children:"Throw Error"}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20"}),(0,s.jsx)(n.td,{children:"Throw Error"}),(0,s.jsx)(n.td,{children:"\u274C"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"queryBy..."}),(0,s.jsxs)(n.td,{children:["\u56DE\u50B3 ",(0,s.jsx)(n.code,{children:"null"})]}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20"}),(0,s.jsx)(n.td,{children:"Throw Error"}),(0,s.jsx)(n.td,{children:"\u274C"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"findBy..."}),(0,s.jsx)(n.td,{children:"Throw Error"}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20"}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20"}),(0,s.jsx)(n.td,{children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"getAllBy..."}),(0,s.jsx)(n.td,{children:"Throw Error"}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20\u9663\u5217"}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20\u9663\u5217"}),(0,s.jsx)(n.td,{children:"\u274C"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"queryAllBy..."}),(0,s.jsxs)(n.td,{children:["\u56DE\u50B3 ",(0,s.jsx)(n.code,{children:"[]"})]}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20\u9663\u5217"}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20\u9663\u5217"}),(0,s.jsx)(n.td,{children:"\u274C"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"findAllBy..."}),(0,s.jsx)(n.td,{children:"Throw Error"}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20\u9663\u5217"}),(0,s.jsx)(n.td,{children:"\u56DE\u50B3\u5143\u7D20\u9663\u5217"}),(0,s.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"\u770B\u8D77\u4F86\u5F88\u5BB9\u6613\u641E\u6DF7\uFF0C\u4E0D\u904E\u4ED6\u5011\u90FD\u6709\u5404\u81EA\u4F7F\u7528\u7684\u6642\u6A5F"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"getBy...\uFF1A\u5927\u90E8\u5206\u90FD\u53EF\u4EE5\u4F7F\u7528\uFF0C\u5224\u65B7\u5143\u7D20\u662F\u5426\u5B58\u5728\u3002"}),"\n",(0,s.jsx)(n.li,{children:"queryBy...\uFF1A\u56E0\u70BA\u627E\u4E0D\u5230\u6703\u56DE\u50B3 null \u7684\u7279\u6027\uFF0C\u6240\u4EE5\u5E38\u7528\u4F86\u5224\u65B7\u5143\u7D20\u662F\u5426\u4E00\u958B\u59CB\u4E0D\u5B58\u5728\u3002"}),"\n",(0,s.jsx)(n.li,{children:"findBy...\uFF1A\u975E\u540C\u6B65\u51FD\u5F0F\uFF0C\u53EF\u4EE5\u5224\u65B7\u9700\u7B49\u5F85\u7684\u5143\u7D20\u662F\u5426\u5B58\u5728\uFF0C\u4F8B\u5982 API \u56DE\u50B3\u624D\u6703\u986F\u793A\u5728\u756B\u9762\u4E0A\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"screen()"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u96D6\u7136 ",(0,s.jsx)(n.code,{children:"render()"})," \u89E3\u6C7A\u4E86\u6A21\u64EC UI \u7684\u60C5\u6CC1\uFF0C\u4E0D\u904E\u53EA\u80FD\u6839\u64DA ",(0,s.jsx)(n.code,{children:"render()"})," \u7684\u5167\u5BB9\u9032\u884C\u6E2C\u8A66\uFF0C\u5982\u679C\u6709\u591A\u500B ",(0,s.jsx)(n.code,{children:"render()"})," \u51FD\u5F0F\u6E2C\u8D77\u4F86\u5C31\u6703\u6BD4\u8F03\u9EBB\u7169\uFF0C\u9019\u6642\u5019\u5C31\u53EF\u4EE5\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"screen()"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5176\u5BE6 ",(0,s.jsx)(n.code,{children:"screen()"})," \u7B97\u662F @testing-library/dom \u6240\u63D0\u4F9B\uFF0C\u800C\u6240\u6709\u6846\u67B6\u7684 @testing-library \u5E95\u5C64\u90FD\u6709 @testing-library/dom\uFF0C\u6240\u4EE5\u9019\u908A\u624D\u53EF\u4EE5\u76F4\u63A5\u505A\u4F7F\u7528\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u800C ",(0,s.jsx)(n.code,{children:"screen()"})," \u6240\u6293\u53D6\u7684\u5143\u7D20\u662F ",(0,s.jsx)(n.code,{children:"<body></body>"})," \u5167\u7684\u6240\u6709 DOM \u5143\u7D20\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import { render, screen } from "@testing-library/react";\nimport { Home } from "./Home";\n\ndescribe("testing home component", () => {\n  it("show Home Page in the home component", () => {\n    render(<Home />);\n    render(<Home />);\n    //\u4F7F\u7528 getAllByText \u5224\u65B7\u662F\u5426\u6293\u53D6\u5169\u500B\u5143\u7D20\n    expect(screen.getAllByText("Home Page")).toHaveLength(2);\n  });\n});\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u500B\u4EBA\u5728\u6293\u5143\u7D20\u6642\u662F\u6BD4\u8F03\u5E38\u7528 ",(0,s.jsx)(n.code,{children:"screen()"})," \u52DD\u904E\u65BC\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"render()"})," \u56DE\u50B3\u7684\u65B9\u6CD5\uFF0C\u4F7F\u7528\u8D77\u4F86\u4E5F\u6BD4\u8F03\u65B9\u4FBF\u3002"]}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"renderHook()"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u9867\u540D\u601D\u7FA9\u5C31\u662F\u53BB\u6A21\u64EC\u5BA2\u88FD\u5316\u7684 React Hook\uFF0C\u5047\u8A2D\u4ECA\u5929\u6709\u4E00\u500B\u8A08\u6578\u5668\u7684 custom hook"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import { useState } from "react";\n\nfunction useCounter(initialValue = 0) {\n  const [count, setCount] = useState(initialValue);\n  // \u52A0\u4E00\u51FD\u5F0F\n  const increment = () => {\n    setCount(count + 1);\n  };\n  // \u6E1B\u4E00\u51FD\u5F0F\n  const decrement = () => {\n    setCount(count - 1);\n  };\n\n  return { count, increment, decrement };\n}\n\nexport default useCounter;\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u8981\u6E2C\u8A66\u9019\u500B hook \u5C31\u53EF\u4EE5\u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"renderHook()"}),"\uFF0C\u4ED6\u53EF\u4EE5\u50B3\u5165\u5169\u500B\u53C3\u6578\uFF0C\u7B2C\u4E00\u500B\u5C31\u662F\u8981\u6E2C\u8A66\u7684\u51FD\u5F0F\uFF0C\u7B2C\u4E8C\u662F\u50B3\u5165\u51FD\u5F0F\u7684\u53C3\u6578 (\u975E\u5FC5\u8981)\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import useCounter from "./useCounter";\nimport { renderHook, act } from "@testing-library/react";\n\nit("should increment and decrement the counter", () => {\n  const { result } = renderHook(useCounter);\n\n  expect(result.current.count).toBe(0);\n\n  act(() => {\n    result.current.increment(); // \u547C\u53EB + 1 \u51FD\u5F0F\n  });\n\n  expect(result.current.count).toBe(1);\n\n  act(() => {\n    result.current.decrement(); // \u547C\u53EB -1 \u51FD\u5F0F\n  });\n\n  expect(result.current.count).toBe(0);\n});\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"renderHook()"})," \u6703\u56DE\u50B3\u4E00\u500B\u7269\u4EF6\uFF0C\u53EF\u4EE5\u4F7F\u7528 result \u5C6C\u6027\u5229\u7528 result.current \u53BB\u64CD\u63A7\u51FD\u5F0F\u7684\u56DE\u50B3\u7269\u4EF6\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679C\u6709",(0,s.jsx)(n.strong,{children:"\u66F4\u6539 state"})," \u7684\u64CD\u4F5C\uFF0C\u5C31\u9700\u8981\u4F7F\u7528 ",(0,s.jsx)(n.strong,{children:"act"})," \u5305\u8D77\u4F86\uFF0C\u9019\u6A23\u624D\u53EF\u4EE5\u5373\u6642\u66F4\u65B0 state \u7684\u72C0\u614B\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"-testing-libraryjest-dom",children:"\uD83D\uDCCC @testing-library/jest-dom"}),"\n",(0,s.jsxs)(n.p,{children:["@testing-library/jest-dom \u63D0\u4F9B\u7D66 Jest \u5F88\u591A DOM \u5143\u7D20\u7684\u64F4\u5145\u5224\u65B7\uFF0C\u8B93\u6211\u5011\u5728\u6293\u5143\u7D20\u6642\uFF0C\u6709\u66F4\u591A\u7684\u65B9\u6CD5\u53BB\u6E2C\u8A66\uFF0C\u6BD4\u8F03\u5E38\u7528\u7684\u50CF\u662F ",(0,s.jsx)(n.code,{children:"toBeInTheDocument"}),"\u3001",(0,s.jsx)(n.code,{children:"toHaveClass"})," \u7B49\u7B49\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4EE5\u525B\u525B\u7684 ",(0,s.jsx)(n.code,{children:"<Home/>"})," \u6E32\u67D3\u6E2C\u8A66\u70BA\u4F8B"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import { render, screen } from "@testing-library/react";\n\ndescribe("testing home component", () => {\n  it("show Home Page in the home component", () => {\n    render(<Home />);\n    expect(screen.getByText("Home Page")).toBeInTheDocument(); // \u5224\u65B7\u5143\u7D20\u662F\u5426\u5B58\u5728\u65BC DOM \u4E2D\n  });\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u6216\u662F"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import { render, screen } from "@testing-library/react";\n\ndescribe("testing div", () => {\n  it("test div className have \'hide\'", () => {\n    render(<div className=\'hide\'>test</div>);\n    expect(screen.getByText("test")).toHaveClass("hide"); //\u5224\u65B7\u5143\u7D20\u662F\u5426\u542B\u6709\u6307\u5B9A\u7684 class name\n  });\n});\n'})}),"\n",(0,s.jsx)(n.h3,{id:"-testing-libraryuser-event",children:"\uD83D\uDCCC @testing-library/user-event"}),"\n",(0,s.jsx)(n.p,{children:"\u6700\u5F8C\u4E00\u500B\u5C31\u662F\u6A21\u64EC\u4F7F\u7528\u8457\u64CD\u4F5C\uFF0Cuser-event \u5E38\u5E38\u8DDF\u53E6\u4E00\u500B @testing-library/react \u7684 fireEvent \u62FF\u4F86\u6BD4\u8F03\uFF0CfireEvent \u5C31\u662F\u5728\u7A0B\u5F0F\u78BC\u4E2D\u6703\u7528\u7684\u4E8B\u4EF6\u8655\u7406\uFF0C\u50CF\u662F click \u6216\u662F change\uFF0C\u800C user-event \u7684\u5E95\u5C64\u5C31\u662F fireEvent\uFF0C\u4E0D\u904E userEvent \u80FD\u66F4\u8CBC\u5408\u4F7F\u7528\u8005\u7684\u6A21\u64EC\u60C5\u6CC1\uFF0C\u50CF\u662F\u540C\u6A23\u662F\u5728 input \u8F38\u5165\u6587\u5B57\uFF0C\u5982\u679C\u4F7F\u7528 fireEvent \u5C31\u6703\u4F7F\u7528 change \u7684\u4E8B\u4EF6\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"fireEvent\uFF1A"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import { fireEvent } from "@testing-library/react";\n\nfireEvent.change(inputElement, { target: { value: "Hello World!" } });\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u4E0D\u904E\u5982\u679C\u662F\u4F7F\u7528 userEvent \u5C31\u6703\u4F7F\u7528 type \u7684\u4E8B\u4EF6\u3002"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"userEvent\uFF1A"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import userEvent from "@testing-library/user-event";\n\nconst user = userEvent.setup();\nawait user.type(inputElement, "Hello World!");\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u9664\u4E86 userEvent \u662F\u975E\u540C\u6B65\u4EE5\u5916\uFF0C\u4E4D\u770B\u4E4B\u4E0B\u6C92\u6709\u4EC0\u9EBC\u4E0D\u4E00\u6A23\uFF0C\u4E0D\u904E userEvent \u7684 type \u9084\u5305\u542B\u4F7F\u7528\u8005\u9EDE\u64CA input\uFF0C\u8F38\u5165\u6587\u5B57\u7684 keyDown\u3001keyUp \u4E8B\u4EF6\uFF0C\u6BD4\u8D77 fireEvent \u7684 change\uFF0C\u66F4\u8CBC\u8FD1\u5BE6\u969B\u7684\u4F7F\u7528\u8005\u64CD\u4F5C\u60C5\u6CC1\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5047\u8A2D\u6709\u4E00\u500B input\uFF0C\u8F38\u5165\u6587\u5B57\u7684\u540C\u6642\u6703\u986F\u793A KeyDown\u3001KeyUp \u7684\u6587\u5B57"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"import React, { useState } from \"react\";\n\nfunction KeyEvent() {\n  const [text, setText] = useState(\"\");\n  const [keyEvent, setKeyEvent] = useState(\"\");\n\n  // keyDown \u4E8B\u4EF6\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    setKeyEvent((prev) => prev + `Key Down: ${e.key}`);\n  };\n  // keyUp \u4E8B\u4EF6\n  const handleKeyUp = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    setKeyEvent((prev) => prev + `Key Up: ${e.key}`);\n  };\n\n  return (\n    <div>\n      <input\n        type='text'\n        value={text}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n          setText(e.target.value)\n        }\n        onKeyDown={handleKeyDown}\n        onKeyUp={handleKeyUp}\n        data-testid='input'\n      />\n      <p data-testid='key-event'>{keyEvent}</p>\n    </div>\n  );\n}\n\nexport default KeyEvent;\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4F7F\u7528 firEvent \u4F86\u6E2C\u8A66"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'describe("KeyEventsComponent", () => {\n  it("test with fireEvent", async () => {\n    render(<KeyEvent />);\n    const inputElement = screen.getByTestId("input");\n    const keyEventElement = screen.getByTestId("key-event");\n\n    // \u4F7F\u7528 fireEvent.change \u8F38\u5165\u6587\u5B57\n    fireEvent.change(inputElement, { target: { value: "Hello" } });\n\n    // \u4F7F\u7528 fireEvent.keyDown \u6A21\u64EC\u4F7F\u7528\u8005\u6309\u4E0B o\n    fireEvent.keyDown(inputElement, { key: "o" });\n\n    // \u4F7F\u7528 fireEvent.keyUp \u6A21\u64EC\u4F7F\u7528\u8005\u653E\u958B o\n    fireEvent.keyUp(inputElement, { key: "o" });\n\n    expect(inputElement).toHaveValue("Hello");\n    expect(keyEventElement.textContent).toContain("Key Down: o");\n    expect(keyEventElement.textContent).toContain("Key Up: o");\n  });\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u53EF\u4EE5\u770B\u5230\u9700\u8981\u628A change \u4E8B\u4EF6\u8DDF keyDown\u3001keyUp \u4E8B\u4EF6\u5206\u958B\u5BEB\uFF0C\u5BEB\u8D77\u4F86\u6BD4\u8F03\u9EBB\u7169\u5916\uFF0C\u4E5F\u4E0D\u7B26\u5408\u5BE6\u969B\u7684\u4F7F\u7528\u8005\u8F38\u5165\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679C\u4F7F\u7528 userEvent \u4F86\u6E2C\u8A66"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import { render, screen } from "@testing-library/react";\nimport userEvent from "@testing-library/user-event";\nimport KeyEvent from "./KeyEvent";\n\nconst user = userEvent.setup();\n\ndescribe("KeyEventsComponent", () => {\n  it("should simulate key events with userEvent.type", async () => {\n    render(<KeyEvent />);\n    const inputElement = screen.getByTestId("input");\n    const keyEventElement = screen.getByTestId("key-event");\n\n    // \u4F7F\u7528 user.type \u8F38\u5165\u6587\u5B57\n    await user.type(inputElement, "Hello");\n\n    // \u5224\u65B7 input \u7684\u503C\u662F\u5426\u70BA Hello\n    expect(inputElement).toHaveValue("Hello");\n\n    // \u5224\u65B7\u662F\u5426\u6709\u986F\u793A KeyDown\u3001KeyUp \u7684\u6587\u5B57\n    expect(keyEventElement.textContent).toContain("Key Down: o");\n    expect(keyEventElement.textContent).toContain("Key Up: o");\n  });\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u53EA\u9700\u8981\u4E00\u500B user.type \u5C31\u53EF\u4EE5\u5305\u542B\u6240\u6709\u7684\u4E8B\u4EF6\uFF0C\u4E5F\u66F4\u8CBC\u8FD1\u4F7F\u7528\u8005\u7684\u64CD\u4F5C\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u9664\u6B64\u4E4B\u5916\uFF0CuserEvent \u9084\u6709\u63D0\u4F9B\u5F88\u591A\u5BE6\u7528\u7684\u65B9\u6CD5\u50CF\u662F\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"dblClick\uFF1A\u9EDE\u64CA\u5169\u6B21"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"tripleClick\uFF1A\u9EDE\u64CA\u4E09\u6B21"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"type\uFF1Ainput \u8F38\u5165"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"upload\uFF1A\u4E0A\u50B3"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"hover/unhover\uFF1A\u6307\u6A19\u79FB\u9032\u79FB\u51FA"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"copy/paste\uFF1A\u8907\u88FD/\u8CBC\u4E0A"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u8A73\u7D30\u7684\u53EF\u4EE5\u53C3\u8003 ",(0,s.jsx)(n.a,{href:"https://testing-library.com/docs/user-event/intro/",children:"User Interactions"})]}),"\n",(0,s.jsx)(n.p,{children:"\u4ECA\u5929\u5C31\u4ECB\u7D39\u5230\u9019\u908A\uFF5E\u4E0B\u4E00\u7BC7\u7D42\u65BC\u8981\u9032\u5165 AI \u7684\u90E8\u5206\u4E86\uFF01"})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},65:function(e,n,t){t.d(n,{Z:function(){return c},a:function(){return l}});var r=t(7294);let s={},i=r.createContext(s);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);