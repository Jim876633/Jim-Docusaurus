"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["1575"],{5673:function(e,s,n){n.r(s),n.d(s,{metadata:()=>t,contentTitle:()=>u,default:()=>x,assets:()=>m,toc:()=>p,frontMatter:()=>d});var t=JSON.parse('{"id":"docusaurus/getDocList","title":"\u3010Docusaurus\u3011\u5982\u4F55\u81EA\u52D5\u986F\u793A Docusaurus \u6587\u7AE0\u5217\u8868","description":"\u96D6\u7136 Docusaurus \u6709 Sidebar \u53EF\u4EE5\u5F88\u6E05\u695A\u5730\u627E\u5230\u4F60\u8981\u7684\u6587\u7AE0\uFF0C\u4F46\u6211\u5E0C\u671B\u53EF\u4EE5\u5728\u9996\u9801\u770B\u5230\u6700\u65B0\u66F4\u65B0\u7684\u6587\u7AE0\u5217\u8868\uFF0C\u4E0D\u904E\u5728 Docusaurus \u6C92\u6709\u5167\u5EFA\u7684\u529F\u80FD\u6216 API \u53EF\u4EE5\u986F\u793A\u6240\u6709\u7684\u6587\u7AE0\uFF0C\u6240\u4EE5\u9700\u8981\u81EA\u5DF1\u505A\u4E00\u500B\u81EA\u52D5\u722C\u87F2\u7684 component\u3002","source":"@site/docs/docusaurus/getDocList.mdx","sourceDirName":"docusaurus","slug":"/docusaurus/getDocList","permalink":"/docusaurus/getDocList","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"Docusaurus","permalink":"/tags/docusaurus"}],"version":"current","lastUpdatedAt":1718173908000,"frontMatter":{"title":"\u3010Docusaurus\u3011\u5982\u4F55\u81EA\u52D5\u986F\u793A Docusaurus \u6587\u7AE0\u5217\u8868","sidebar_label":"\u5982\u4F55\u81EA\u52D5\u986F\u793A Docusaurus \u6587\u7AE0\u5217\u8868","tags":["docusaurus"]},"sidebar":"tutorialSidebar","previous":{"title":"\u5728 Docusaurus \u5C0E\u5165 Algolia \u641C\u5C0B","permalink":"/docusaurus/algolia"},"next":{"title":"\u5982\u4F55\u5728 docusaurus \u589E\u52A0\u7559\u8A00\u5340","permalink":"/docusaurus/giscus"}}'),r=n("5893"),i=n("65"),c=n("9366");let o=n.p+"assets/images/getDocList-1-f9996536724f3e95bc9d2eaff171fbc5.png",a=n.p+"assets/images/getDocList-2-e0b960a67aff79f334eac9d4ba0f3376.png",l=n.p+"assets/images/getDocList-3-f84c2ecfb44733f8cbff8449e5f20993.png",d={title:"\u3010Docusaurus\u3011\u5982\u4F55\u81EA\u52D5\u986F\u793A Docusaurus \u6587\u7AE0\u5217\u8868",sidebar_label:"\u5982\u4F55\u81EA\u52D5\u986F\u793A Docusaurus \u6587\u7AE0\u5217\u8868",tags:["docusaurus"]},u=void 0,m={},p=[{value:"\u60F3\u6CD5\u6982\u5FF5",id:"\u60F3\u6CD5\u6982\u5FF5",level:2},{value:"Step1: useDocsSidebar()",id:"step1-usedocssidebar",level:2},{value:"Step2: Promise.all()",id:"step2-promiseall",level:2},{value:"Step3: DOMParser();",id:"step3-domparser",level:2},{value:"Step4: import component",id:"step4-import-component",level:2},{value:"\u984D\u5916\u88DC\u5145",id:"\u984D\u5916\u88DC\u5145",level:2}];function h(e){let s={a:"a",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"\u96D6\u7136 Docusaurus \u6709 Sidebar \u53EF\u4EE5\u5F88\u6E05\u695A\u5730\u627E\u5230\u4F60\u8981\u7684\u6587\u7AE0\uFF0C\u4F46\u6211\u5E0C\u671B\u53EF\u4EE5\u5728\u9996\u9801\u770B\u5230\u6700\u65B0\u66F4\u65B0\u7684\u6587\u7AE0\u5217\u8868\uFF0C\u4E0D\u904E\u5728 Docusaurus \u6C92\u6709\u5167\u5EFA\u7684\u529F\u80FD\u6216 API \u53EF\u4EE5\u986F\u793A\u6240\u6709\u7684\u6587\u7AE0\uFF0C\u6240\u4EE5\u9700\u8981\u81EA\u5DF1\u505A\u4E00\u500B\u81EA\u52D5\u722C\u87F2\u7684 component\u3002"}),"\n",(0,r.jsx)(s.h2,{id:"\u60F3\u6CD5\u6982\u5FF5",children:"\u60F3\u6CD5\u6982\u5FF5"}),"\n",(0,r.jsxs)(s.p,{children:["\u5728\u627E\u6709\u6C92\u6709\u5B98\u65B9\u63D0\u4F9B\u7684 API \u9054\u5230\u6211\u8981\u7684\u529F\u80FD\u6642\uFF0C\u6709\u770B\u5230\u4E00\u500B ",(0,r.jsx)(s.code,{children:"useDocsSidebar()"})," \u7684\u51FD\u5F0F\u53EF\u4EE5\u6293\u51FA sidebar \u7684\u6E05\u55AE\uFF0C\u6C7A\u5B9A\u5F9E\u9019\u88E1\u4E0B\u624B\u3002\u518D\u5229\u7528\u88E1\u9762\u63D0\u4F9B\u7684\u5404\u9801\u9762\u7684 url \u53BB\u6293\u7DB2\u9801\u7684 HTML\uFF0C\u7BE9\u9078\u51FA\u6211\u8981\u7684\u8CC7\u6599\u3002"]}),"\n",(0,r.jsx)(s.p,{children:"\u6B65\u9A5F\u5927\u6982\u662F\u9019\u6A23\uFF1A"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\u7528 ",(0,r.jsx)(s.code,{children:"useDocsSidebar()"})," \u6293\u51FA\u6240\u6709\u9801\u9762\u7684 url \u9663\u5217\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:["\u7528 ",(0,r.jsx)(s.code,{children:"Promise.all()"})," \u540C\u6642 fetch \u6240\u6709\u7684\u975C\u614B\u9801\u9762\u6587\u5B57\u6A94\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:["\u4F7F\u7528\u539F\u751F ",(0,r.jsx)(s.code,{children:"DOMParser()"})," \u8F49\u6210 HTML \u683C\u5F0F\uFF0C\u4E26\u6293\u53D6\u8CC7\u6599\u3002"]}),"\n",(0,r.jsx)(s.li,{children:"\u6700\u5F8C\u628A component \u5F15\u5165 mdx \u6A94\u3002"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"step1-usedocssidebar",children:"Step1: useDocsSidebar()"}),"\n",(0,r.jsxs)(s.p,{children:["\u5148\u5EFA\u4E00\u500B component \u53EB ",(0,r.jsx)(s.code,{children:"DocList"}),"\uFF0C\u4F7F\u7528 ",(0,r.jsx)(s.code,{children:"useDocsSidebar()"})," \u53D6\u51FA\u88E1\u9762\u7684 ",(0,r.jsx)(s.strong,{children:"items"}),"\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsx",metastring:"title=DocList.jsx",children:'import { useDocsSidebar } from "@docusaurus/theme-common/internal";\n\nfunction DocList() {\n  const { items } = useDocsSidebar();\n  ...\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:"\u53D6\u51FA\u4F86\u5F8C\u6703\u9577\u9019\u6A23"}),"\n",(0,r.jsx)(c.Ei,{src:o}),"\n",(0,r.jsx)(s.p,{children:"\u5C31\u662F\u4F60\u7684 Sidebar \u7684\u8CC7\u6599\u7D50\u69CB\uFF0C\u9019\u908A\u5982\u679C\u6709\u5F88\u591A\u5C64\u7684\u8A71\u9700\u8981\u4E00\u5C64\u4E00\u5C64\u62C6\u6389\uFF0C\u53EF\u4EE5\u7528 lodash \u7684 flatMapDeep \u89E3\u69CB\u3002\u6216\u662F\u50CF\u6211\u4E00\u6A23\u4E0D\u60F3\u88DD\u5957\u4EF6\uFF0C\u7528 flatMap \u52A0\u905E\u8FF4\u7684\u65B9\u5F0F\u62C6\u958B\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsx",children:"function formatDocList(items) {\n  return items.flatMap((item) => {\n    if (!item.items) {\n      return {\n        title: item.label,\n        id: item.docId,\n        href: item.href,\n      };\n    } else {\n      return formatDocList(item.items);\n    }\n  });\n}\n"})}),"\n",(0,r.jsx)(s.h2,{id:"step2-promiseall",children:"Step2: Promise.all()"}),"\n",(0,r.jsxs)(s.p,{children:["\u6574\u7406\u5B8C\u5F8C\uFF0C\u518D\u6293\u51FA\u4E00\u500B\u53EA\u6709 href \u7684\u9663\u5217\uFF0C\u7136\u5F8C\u518D\u7528 ",(0,r.jsx)(s.code,{children:"Promise.all()"})," \u540C\u6642\u767C\u51FA\u8ACB\u6C42\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsx",children:"async function fetchDocs(docsList) {\n  const docUrlList = docsList.map(\n    (doc) => `https://jim876633.github.io${doc.href}`\n  );\n\n  const results = await Promise.all(\n    docUrlList.map((url) => fetch(url).then((res) => res.text()))\n  );\n}\n"})}),"\n",(0,r.jsxs)(s.p,{children:["\u56DE\u50B3\u7684 ",(0,r.jsx)(s.code,{children:"result"})," \u5C31\u662F\u542B\u6709\u6240\u6709\u9801\u9762 HTML \u6587\u5B57\u7684\u9663\u5217\u3002"]}),"\n",(0,r.jsx)(s.h2,{id:"step3-domparser",children:"Step3: DOMParser();"}),"\n",(0,r.jsxs)(s.p,{children:["\u56E0\u70BA\u6293\u56DE\u4F86\u7684\u662F\u6587\u5B57\uFF0C\u6BD4\u8F03\u96E3\u53BB\u53D6\u5F97\u60F3\u8981\u7684\u8CC7\u8A0A\uFF0C\u6240\u4EE5\u9019\u908A\u7528\u539F\u751F\u7684 ",(0,r.jsx)(s.code,{children:"DOMParser()"})," \u53BB\u5C07\u6587\u5B57\u8F49\u6210 HTML\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsx",children:'results.forEach((data, i) => {\n  // translate to html\n  const parser = new DOMParser();\n  const html = parser.parseFromString(data, "text/html");\n  const body = html.body;\n});\n'})}),"\n",(0,r.jsxs)(s.p,{children:["\u6293\u5230 body \u7684 DOM \u5F8C\uFF0C\u5C31\u8981\u4F86\u6293\u6211\u8981\u7684",(0,r.jsx)(s.em,{children:"\u66F4\u65B0\u65E5\u671F"}),"\uFF0C\u9019\u908A\u8981\u5148\u5728 ",(0,r.jsx)(s.code,{children:"docusaurus.config.js"})," \u8A2D\u5B9A ",(0,r.jsx)(s.strong,{children:"showLastUpdateTime"}),"\uFF0C\u8A73\u7D30\u8CC7\u8A0A\u53EF\u4EE5\u53C3\u8003",(0,r.jsx)(s.a,{href:"https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-docs#showLastUpdateTime",children:"\u5B98\u7DB2"}),"\uFF0C\u9019\u908A\u5C31\u4E0D\u591A\u8D05\u8FF0\u3002"]}),"\n",(0,r.jsxs)(s.p,{children:["\u653E\u66F4\u65B0\u65E5\u671F\u7684 HTML tag \u662F\u4E00\u500B ",(0,r.jsx)(s.code,{children:"<time>...<time/>"})," \u7684\u7D50\u69CB\uFF0C\u5B83\u6709\u4E00\u500B ",(0,r.jsx)(s.code,{children:"datetime"})," \u7684 Attribute\uFF0C\u88E1\u9762\u653E\u7684\u5C31\u662F\u6211\u8981\u7684\u65E5\u671F\u683C\u5F0F\u3002"]}),"\n",(0,r.jsx)(c.Ei,{src:a}),"\n",(0,r.jsx)(s.p,{children:"\u518D\u4F86\u7684\u5C31\u53EA\u662F\u628A\u5B83\u53D6\u51FA\u4F86\uFF0C\u7136\u5F8C\u5408\u4F75\u5230\u4E4B\u524D\u6574\u7406\u904E\u7684\u7269\u4EF6\u88E1\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsx",metastring:"{8-16} showLineNumbers",children:'const timeStamp = time.getAttribute("datetime");\ndocs[i].timeStamp = new Date(timeStamp).getTime();\n'})}),"\n",(0,r.jsx)(s.h2,{id:"step4-import-component",children:"Step4: import component"}),"\n",(0,r.jsxs)(s.p,{children:["\u6700\u5F8C\u62FF\u5230\u6709\u65E5\u671F\u7684\u7269\u4EF6\u9663\u5217\uFF0C\u518D\u7528 ",(0,r.jsx)(s.code,{children:"sort"})," \u53BB\u4F9D\u64DA\u65E5\u671F\u6392\u5E8F\uFF0C\u7136\u5F8C\u518D import \u5230 .mdx \u6A94\uFF08\u8A18\u5F97\u628A .md \u8F49\u6210 .mdx \u624D\u80FD\u5F15\u5165\uFF09\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-jsx",metastring:"title='intro.mdx'",children:'import DocList from "@site/src/components/docList.jsx";\n\n<DocList />;\n'})}),"\n",(0,r.jsx)(s.p,{children:"\u5C31\u53EF\u4EE5\u5728\u9996\u9801\u770B\u5230\u6700\u65B0\u66F4\u65B0\u7684\u6587\u7AE0\u5217\u8868\u4E86 \uD83C\uDF89"}),"\n",(0,r.jsx)(c.Ei,{src:l,width:"500px"}),"\n",(0,r.jsx)(s.h2,{id:"\u984D\u5916\u88DC\u5145",children:"\u984D\u5916\u88DC\u5145"}),"\n",(0,r.jsxs)(s.p,{children:["\u4E0D\u904E\u56E0\u70BA\u662F\u7528 component \u5F15\u5165\uFF0C\u6240\u4EE5\u53EA\u8981\u9032\u5165\u5230\u9996\u9801\u5C31\u6703 fetch \u6240\u6709\u6587\u7AE0\u7684\u8CC7\u6599\uFF0C\u9019\u6A23\u6548\u80FD\u4E26\u4E0D\u662F\u5F88\u597D\uFF0C\u60F3\u512A\u5316\u6548\u80FD\u7684\u53EF\u4EE5\u4F7F\u7528 ",(0,r.jsx)(s.a,{href:"https://tanstack.com/query/latest",children:"TanStack Query"})," \u4F86\u7BA1\u7406 API \u8ACB\u6C42\uFF0C\u6709\u8208\u8DA3\u7684\u53EF\u4EE5\u770B\u6211\u5B8C\u6574\u7684\u7A0B\u5F0F\u78BC\u3002"]})]})}function x(e={}){let{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},144:function(e,s,n){n.d(s,{Z:function(){return i}});var t=n(5893);n(7294);var r=n(7227);function i(e){let{children:s,fallback:n}=e;return(0,r.Z)()?(0,t.jsx)(t.Fragment,{children:s?.()}):n??null}},9366:function(e,s,n){n.d(s,{Ei:function(){return c},gO:function(){return o},nI:function(){return a}});var t=n(5893),r=n(144),i=n(1094);n(7294);let c=e=>{let{src:s,width:n="100%",center:r=!1,style:i={}}=e,c={width:`min(100%,${n})`,display:r?"block":"inline-block",margin:r?"0 auto":"0",borderRadius:"5px",...i};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:s,style:{...c}}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})]})},o=e=>{let{children:s,width:n="100%",center:c=!1,style:o={}}=e;return(0,t.jsx)(r.Z,{children:()=>{let{sm:e}=(0,i.Z)(),r={width:`min(100%,${n})`,margin:c?"0 auto":"0",display:"flex",flexDirection:e?"column":"row",gap:"10px",alignItems:"center",...o};return(0,t.jsx)("div",{style:{...r},children:s})}})},a=e=>{let{style:s,width:n="100%",src:r}=e,i={width:`min(100%,${n})`,flex:1,...s};return(0,t.jsx)("div",{style:{...i},children:(0,t.jsx)(c,{src:r})})}},1094:function(e,s,n){n.d(s,{Z:function(){return i}});var t=n(7294);let r=635,i=()=>{let[e,s]=(0,t.useState)({width:window.innerWidth,height:window.innerHeight}),[n,i]=(0,t.useState)(!1);return(0,t.useLayoutEffect)(()=>{let e=()=>{let{innerWidth:e,innerHeight:n}=window;s({width:e,height:n}),i(e<=r)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{sm:n,windowSize:e}}},65:function(e,s,n){n.d(s,{Z:function(){return o},a:function(){return c}});var t=n(7294);let r={},i=t.createContext(r);function c(e){let s=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);