"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3498],{4207:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>d,toc:()=>m});var r=n(4848),i=n(8453),o=n(2904);const s=n.p+"assets/images/day11-1-5bef1f95f5f4d89eeca7a7c825822a07.gif",a=n.p+"assets/images/day11-2-768e45dac0dce96a849a9849460a7f9c.gif",c={title:"[Day 11] React + Jest \u8def\u5f91\u6e2c\u8a66 (AI)",tags:["ithome2023"]},l=void 0,d={id:"ithome2023/day11",title:"[Day 11] React + Jest \u8def\u5f91\u6e2c\u8a66 (AI)",description:"\u5728\u4f7f\u7528 copilot chat \u7522\u51fa\u8def\u5f91\u6e2c\u8a66\u6642\uff0c\u6bd4\u8d77\u8ddf\u4ed6\u8a73\u7d30\u8aaa\u660e\u4f60\u8981\u7684\u6e2c\u8a66\u689d\u4ef6\uff0c\u50cf\u662f\u4f7f\u7528 jest.mock \u6a21\u64ec\u5143\u4ef6\u56de\u50b3\uff0c\u6216\u662f\u4f7f\u7528 history \u5957\u4ef6\u6a21\u64ec\u8def\u7531\u884c\u70ba\u7b49\u7b49\uff0c\u6211\u9019\u908a\u63d0\u4f9b\u4e00\u500b\u66f4\u597d\u7684\u65b9\u6cd5\uff0c\u8b93 copilot chat \u53ef\u4ee5\u5b8c\u7f8e\u7684\u9054\u6210\u4f60\u7684\u9700\u6c42\u3002",source:"@site/docs/ithome2023/day11.mdx",sourceDirName:"ithome2023",slug:"/ithome2023/day11",permalink:"/ithome2023/day11",draft:!1,unlisted:!1,tags:[{inline:!1,label:"IT Home 2023",permalink:"/tags/ithome-2023",description:"IT Home \u9435\u4eba\u8cfd 2023 \u5e74\u7cfb\u5217\u6587\u7ae0"}],version:"current",lastUpdatedAt:1718173908e3,frontMatter:{title:"[Day 11] React + Jest \u8def\u5f91\u6e2c\u8a66 (AI)",tags:["ithome2023"]},sidebar:"tutorialSidebar",previous:{title:"[Day 10] React + Jest \u8def\u5f91\u6e2c\u8a66",permalink:"/ithome2023/day10"},next:{title:"[Day 12] React + Jest \u5f48\u7a97\u6e2c\u8a66",permalink:"/ithome2023/day12"}},h={},m=[{value:"Router \u5c0e\u9801\u6e2c\u8a66",id:"router-\u5c0e\u9801\u6e2c\u8a66",level:2},{value:"Navbar \u8def\u5f91\u6e2c\u8a66",id:"navbar-\u8def\u5f91\u6e2c\u8a66",level:2},{value:"\u7d50\u8ad6",id:"\u7d50\u8ad6",level:2}];function u(e){const t={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["\u5728\u4f7f\u7528 copilot chat \u7522\u51fa\u8def\u5f91\u6e2c\u8a66\u6642\uff0c\u6bd4\u8d77\u8ddf\u4ed6\u8a73\u7d30\u8aaa\u660e\u4f60\u8981\u7684\u6e2c\u8a66\u689d\u4ef6\uff0c\u50cf\u662f\u4f7f\u7528 ",(0,r.jsx)(t.code,{children:"jest.mock"})," \u6a21\u64ec\u5143\u4ef6\u56de\u50b3\uff0c\u6216\u662f\u4f7f\u7528 ",(0,r.jsx)(t.code,{children:"history"})," \u5957\u4ef6\u6a21\u64ec\u8def\u7531\u884c\u70ba\u7b49\u7b49\uff0c\u6211\u9019\u908a\u63d0\u4f9b\u4e00\u500b\u66f4\u597d\u7684\u65b9\u6cd5\uff0c\u8b93 copilot chat \u53ef\u4ee5\u5b8c\u7f8e\u7684\u9054\u6210\u4f60\u7684\u9700\u6c42\u3002"]}),"\n",(0,r.jsxs)(t.p,{children:["\u5c31\u662f\u5148\u5beb\u4e00\u4efd ",(0,r.jsx)(t.strong,{children:"Template(\u6a21\u677f)"}),"\uff01"]}),"\n",(0,r.jsx)(t.h2,{id:"router-\u5c0e\u9801\u6e2c\u8a66",children:"Router \u5c0e\u9801\u6e2c\u8a66"}),"\n",(0,r.jsx)(t.p,{children:"\u76f4\u63a5\u5148\u5beb\u5176\u4e2d\u4e00\u500b\u8def\u5f91\u7684\u5b8c\u6574\u6e2c\u8a66\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:'import { render, screen } from "@testing-library/react";\nimport { RouterProvider, createMemoryRouter } from "react-router-dom";\nimport { routerConfig } from ".";\n\n// \u6a21\u64ec\u5143\u4ef6\u56de\u50b3\njest.mock("@/pages/HomePage/Home/index.tsx", () => {\n  return {\n    Home: () => <div>home page</div>,\n  };\n});\n\n// \u6e2c\u8a66\ndescribe("router testing", () => {\n  it("\u7576 router \u8def\u5f91\u70ba \'/home\' \u986f\u793a \'home page\' \u6587\u5b57", () => {\n    const router = createMemoryRouter(routerConfig, {\n      initialEntries: ["/home"],\n    });\n\n    render(<RouterProvider router={router} />);\n\n    expect(screen.getByText(/home page/i)).toBeInTheDocument();\n  });\n});\n'})}),"\n",(0,r.jsx)(t.p,{children:"\u9019\u6642\u5019\u518d\u8acb copilot chat \u4f9d\u64da\u9019\u500b\u6a21\u677f\uff0c\u628a\u5269\u4e0b\u7684\u8def\u5f91\u6e2c\u8a66\u90fd\u5beb\u51fa\u4f86\uff1a"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:"/test Generate all route separate unit test with the router/index.test.tsx template"}),"\n"]}),"\n",(0,r.jsx)(o.E9,{src:s}),"\n",(0,r.jsx)(t.h2,{id:"navbar-\u8def\u5f91\u6e2c\u8a66",children:"Navbar \u8def\u5f91\u6e2c\u8a66"}),"\n",(0,r.jsx)(t.p,{children:"Navbar \u4e00\u6a23\u5148\u5beb\u5176\u4e2d\u4e00\u500b\u8def\u7531\u7684\u5b8c\u6574\u6e2c\u8a66\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"describe(\"navbar testing\", () => {\n  let history: MemoryHistory;\n  const user = userEvent.setup();\n  beforeEach(() => {\n    history = createMemoryHistory();\n    render(\n      <Router location='/home' navigator={history}>\n        <Navbar />\n      </Router>\n    );\n  });\n\n  it(\"\u9ede\u64ca 'home' \u9023\u7d50\uff0c\u7db2\u5740\u5c0e\u9801\u5230 '/home' \u8def\u5f91\", async () => {\n    const homeLink = screen.getByText(/home/i);\n    expect(homeLink).toBeInTheDocument();\n    await user.click(homeLink);\n    expect(history.location.pathname).toBe(\"/home\");\n  });\n});\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u518d\u628a\u5269\u4e0b\u7684\u8def\u5f91\u6e2c\u8a66\u7522\u51fa\u4f86\uff1a"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:"/test Generate all route separate unit test with the navbar/index.test.tsx template"}),"\n"]}),"\n",(0,r.jsx)(o.E9,{src:a}),"\n",(0,r.jsx)(t.h2,{id:"\u7d50\u8ad6",children:"\u7d50\u8ad6"}),"\n",(0,r.jsx)(t.p,{children:"\u96d6\u7136\u6211\u53ea\u4ee5\u5169\u500b\u8def\u5f91\u7576\u4f5c\u7bc4\u4f8b\uff0c\u770b\u4e0d\u592a\u51fa\u4f86\u6210\u6548\uff0c\u4f46\u662f\u5be6\u969b\u5c08\u6848\u53ef\u80fd\u6709\u5e7e\u767e\u500b\u8def\u5f91\uff0c\u9019\u6642\u5019\u5148\u5beb template\uff0c\u518d\u8b93 copilot chat \u6839\u64da template \u7522\u51fa\u5269\u4e0b\u7684\u8def\u5f91\u6e2c\u8a66\uff0c\u90a3\u500b\u7bc0\u7701\u7684\u6642\u9593\u53ef\u662f\u500d\u6578\u7684\u63d0\u5347\uff0c\u800c\u4e14\u9084\u4e0d\u7528\u64d4\u5fc3 copilot chat \u7522\u51fa\u7684\u6e2c\u8a66\u4e0d\u7b26\u5408\u4f60\u7684\u9700\u6c42\u3002"}),"\n",(0,r.jsx)(t.p,{children:"\u4e0b\u6b21\u6709\u9047\u5230\u91cd\u8907\u76f8\u540c\u7d50\u69cb\u7684\u7a0b\u5f0f\u78bc\uff0c\u8207\u5176\u82b1\u6642\u9593\u53bb\u63cf\u8ff0\u9700\u6c42\uff0c\u4e0d\u5982\u5c31\u5beb\u4e00\u4efd\u6e2c\u8a66\u78bc\u7bc4\u4f8b\u5427\uff01"})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8478:(e,t,n)=>{n.d(t,{A:()=>o});n(6540);var r=n(2303),i=n(4848);function o(e){let{children:t,fallback:n}=e;return(0,r.A)()?(0,i.jsx)(i.Fragment,{children:t?.()}):n??null}},2904:(e,t,n)=>{n.d(t,{E9:()=>s,eB:()=>a,h4:()=>c});var r=n(8478),i=n(2057),o=(n(6540),n(4848));const s=e=>{let{src:t,width:n="100%",center:r=!1,style:i={}}=e;const s={width:`min(100%,${n})`,display:r?"block":"inline-block",margin:r?"0 auto":"0",borderRadius:"5px",...i};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:t,style:{...s}}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]})},a=e=>{let{children:t,width:n="100%",center:s=!1,style:a={}}=e;return(0,o.jsx)(r.A,{children:()=>{const{sm:e}=(0,i.A)(),r={width:`min(100%,${n})`,margin:s?"0 auto":"0",display:"flex",flexDirection:e?"column":"row",gap:"10px",alignItems:"center",...a};return(0,o.jsx)("div",{style:{...r},children:t})}})},c=e=>{let{style:t,width:n="100%",src:r}=e;const i={width:`min(100%,${n})`,flex:1,...t};return(0,o.jsx)("div",{style:{...i},children:(0,o.jsx)(s,{src:r})})}},2057:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(6540);const i=635,o=()=>{const[e,t]=(0,r.useState)({width:window.innerWidth,height:window.innerHeight}),[n,o]=(0,r.useState)(!1);return(0,r.useLayoutEffect)((()=>{const e=()=>{const{innerWidth:e,innerHeight:n}=window,r=e<=i;t({width:e,height:n}),o(r)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),{sm:n,windowSize:e}}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var r=n(6540);const i={},o=r.createContext(i);function s(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);