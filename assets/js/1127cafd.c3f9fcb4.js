"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1927],{1599:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>x,frontMatter:()=>c,metadata:()=>d,toc:()=>a});var s=t(5893),r=t(1151),i=t(6236);const c={title:"\u3010Vue2\u3011Vuex \u4ecb\u7d39",sidebar_label:"Vuex \u4ecb\u7d39",sidebar_position:1,tags:["Vue","Vue2","Vuex"]},o=void 0,d={id:"Vue/Vue2/Vuex/intro",title:"\u3010Vue2\u3011Vuex \u4ecb\u7d39",description:"\u4eca\u5929\u4f86\u4ecb\u7d39 Vuex\uff0c\u662f\u4e00\u500b\u7ba1\u7406 stores \u72c0\u614b\u7684\u5957\u4ef6\uff0c\u5982\u679c\u6709\u5b78\u904e React Redux \u7684\u8a71\uff0c\u61c9\u8a72\u6703\u767c\u73fe\u4f7f\u7528\u8d77\u4f86\u975e\u5e38\u76f8\u4f3c\uff0c\u500b\u4eba\u89ba\u5f97\u6bd4 Redux \u597d\u4e0a\u624b\u3002",source:"@site/docs/Vue/Vue2/Vuex/intro.mdx",sourceDirName:"Vue/Vue2/Vuex",slug:"/Vue/Vue2/Vuex/intro",permalink:"/Vue/Vue2/Vuex/intro",draft:!1,unlisted:!1,tags:[{label:"Vue",permalink:"/tags/vue"},{label:"Vue2",permalink:"/tags/vue-2"},{label:"Vuex",permalink:"/tags/vuex"}],version:"current",lastUpdatedAt:1699945574,formattedLastUpdatedAt:"2023\u5e7411\u670814\u65e5",sidebarPosition:1,frontMatter:{title:"\u3010Vue2\u3011Vuex \u4ecb\u7d39",sidebar_label:"Vuex \u4ecb\u7d39",sidebar_position:1,tags:["Vue","Vue2","Vuex"]},sidebar:"tutorialSidebar",previous:{title:"Vuex",permalink:"/category/vuex"},next:{title:"MapState \u7528\u6cd5",permalink:"/Vue/Vue2/Vuex/mapState"}},l={},a=[{value:"\u5b89\u88dd",id:"\u5b89\u88dd",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["\u4eca\u5929\u4f86\u4ecb\u7d39 ",(0,s.jsx)(n.strong,{children:"Vuex"}),"\uff0c\u662f\u4e00\u500b\u7ba1\u7406 stores \u72c0\u614b\u7684\u5957\u4ef6\uff0c\u5982\u679c\u6709\u5b78\u904e ",(0,s.jsx)(n.a,{href:"https://react-redux.js.org/",children:"React Redux"})," \u7684\u8a71\uff0c\u61c9\u8a72\u6703\u767c\u73fe\u4f7f\u7528\u8d77\u4f86\u975e\u5e38\u76f8\u4f3c\uff0c\u500b\u4eba\u89ba\u5f97\u6bd4 Redux \u597d\u4e0a\u624b\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u90a3\u672c\u7bc7\u662f\u8ddf\u8457 ",(0,s.jsx)(n.a,{href:"https://v3.vuex.vuejs.org/zh/",children:"\u5b98\u7db2"})," \u4f86\u505a\u6574\u7406\u7684\uff0c\u6703\u76e1\u91cf\u628a\u6240\u6709\u6211\u89ba\u5f97\u91cd\u8981\u7684\u5305\u542b\u9032\u53bb\uff0c\u6709\u4efb\u4f55\u6c92\u6709\u88dc\u5145\u5230\u7684\u6b61\u8fce\u5728\u5e95\u4e0b\u7559\u8a00\uff5e"]}),"\n",(0,s.jsx)(n.h2,{id:"\u5b89\u88dd",children:"\u5b89\u88dd"}),"\n",(0,s.jsxs)(n.p,{children:["Vue2 \u4f7f\u7528\u7684\u662f vuex v3\uff0c\u6240\u4ee5\u5728\u5b89\u88dd\u7684\u6642\u5019\u8a18\u5f97\u5f8c\u9762\u8981\u52a0 ",(0,s.jsx)(n.code,{children:"@3"}),"\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-npm",children:"npm install vuex@3\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u908a\u6211\u6703\u7528\u4e00\u500b\u7c21\u55ae\u7684\u8a08\u6578\u5668\u7576\u7bc4\u4f8b\uff5e"}),"\n",(0,s.jsxs)(n.p,{children:["\u9996\u5148\u5148\u5efa\u4e00\u500b ",(0,s.jsx)(n.code,{children:"store/index.js"})," \u7684\u6a94\u6848\uff0c\u7136\u5f8c\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"Vue.use()"})," \u5f15\u5165 ",(0,s.jsx)(n.code,{children:"Vuex"})," \u5957\u4ef6\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"title='store/index.js'",children:'import Vue from "vue";\nimport Vuex from "vuex";\n\nVue.use(Vuex);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u518d\u4f86\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"Vuex.Store()"})," \u5efa\u4e00\u500b\u57fa\u672c\u7684 Store \u7269\u4ef6\u4e26 export \u51fa\u53bb\uff0c\u9019\u908a\u5148\u7528\u4e00\u500b\u7c21\u55ae\u7684\u4f8b\u5b50\u4f86\u4ecb\u7d39\u3002"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"state"})," \u5c31\u662f\u4f60\u60f3\u5b58\u653e\u7684\u8b8a\u6578\u7269\u4ef6\uff0c\u6211\u9019\u908a\u5148\u5efa\u4e00\u500b\u8b8a\u6578 ",(0,s.jsx)(n.code,{children:"count"})," \u4e26\u7d66\u4ed6\u521d\u59cb\u503c\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"mutations"})," \u653e\u7684\u662f\u8981\u66f4\u6539 state \u72c0\u614b\u7684\u51fd\u5f0f\uff0c\u5efa\u4e00\u500b ",(0,s.jsx)(n.code,{children:"increment()"})," \u8b93\u6211\u7684 ",(0,s.jsx)(n.code,{children:"count"})," \u8b8a\u6578\u52a0\u4e00\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"title='store/index.js'",children:"export default new Vuex.Store({\n  state: {\n    count: 0,\n  },\n  mutations: {\n    increment(state) {\n      state.count++;\n    },\n  },\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e4b\u5f8c\u5c31\u53ef\u4ee5\u5728\u5168\u57df\u7684\u5730\u65b9\u5f15\u5165 ",(0,s.jsx)(n.code,{children:"store"}),"\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"title='main.js'",children:'import Vue from "vue";\nimport App from "./App.vue";\nimport store from "./store";\n\nnew Vue({\n  store,\n  render: (h) => h(App),\n}).$mount("#app");\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u56e0\u70ba\u5728\u5168\u57df\u7684\u5730\u65b9\u52a0\u5165 store\uff0c\u6240\u4ee5\u5728\u4f7f\u7528\u6642\u53ea\u8981\u7528 ",(0,s.jsx)(n.code,{children:"this.$store.state"})," \u5c31\u53ef\u4ee5\u53d6\u5f97\u8b8a\u6578\u3002\u8a18\u5f97\u4f7f\u7528 Vue \u5168\u57df\u7684\u8b8a\u6578\u524d\u9762\u90fd\u8981\u52a0\u4e0a ",(0,s.jsx)(n.code,{children:"$"}),"\uff0c\u50cf\u662f ",(0,s.jsx)(n.code,{children:"this.$router"})," \u6216 ",(0,s.jsx)(n.code,{children:"this.$store"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u756b\u9762\u4e0a\u5c31\u53ef\u4ee5\u986f\u793a ",(0,s.jsx)(n.code,{children:"counter\uff1a0"}),"\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",metastring:"{4,9-13} title='App.vue'",children:'<template>\n  <div class="counterWithState">\n    <h1>Counter</h1>\n    <p>counter\uff1a{{count}}</p>\n</template>\n\n<script>\nexport default {\n  computed: {\n    count () {\n      return this.$store.state.count;\n    }\n  }\n}\n<\/script>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u4f60\u6703\u770b\u9019\u908a\u662f\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"computed"})," \u4f86\u5efa\u7acb ",(0,s.jsx)(n.code,{children:"count"})," \u8b8a\u6578\uff0c\u800c\u4e0d\u662f\u7528 ",(0,s.jsx)(n.code,{children:"data()"}),"\uff0c\u662f\u56e0\u70ba\u5982\u679c\u7528 ",(0,s.jsx)(n.code,{children:"data()"})," \u5efa\u7acb\u8b8a\u6578\u7684\u8a71\uff0c\u547c\u53eb ",(0,s.jsx)(n.code,{children:"mutation"})," \u5167\u7684\u51fd\u5f0f\u6642\uff0c\u4e0d\u6703\u628a\u66f4\u6539\u7684\u7d50\u679c\u540c\u6b65\u66f4\u65b0\u5230 ",(0,s.jsx)(n.code,{children:"data()"})," \u5167\u7684 count \u8b8a\u6578\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u800c ",(0,s.jsx)(n.code,{children:"computed"})," \u5247\u662f\u5982\u679c\u51fd\u5f0f\u5167\u7684\u503c\u6539\u8b8a\uff08",(0,s.jsx)(n.code,{children:"this.$store.state.count"})," \u503c\u6539\u8b8a\uff09\uff0c\u5c31\u6703\u66f4\u6539 ",(0,s.jsx)(n.code,{children:"count"})," \u7684\u503c\u3002\u4e4b\u5f8c\u518d\u4f86\u7d30\u8b1b\u5176\u4ed6\u7684\u7528\u6cd5\uff5e"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["\u90a3\u8981\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"mutations"})," \u88e1\u9762\u7684 ",(0,s.jsx)(n.code,{children:"increment()"})," \u662f\u4e0d\u662f\u547c\u53eb ",(0,s.jsx)(n.code,{children:"this.$store.mutations.increment()"})," \u5c31\u53ef\u4ee5\u4e86\uff1f"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5f88\u53ef\u60dc Vuex \u4e26\u4e0d\u5141\u8a31\u9019\u6a23\u505a\uff0c\u5982\u679c\u771f\u7684\u8981\u547c\u53eb ",(0,s.jsx)(n.code,{children:"this.$store.mutations"})," \u7684\u8a71\uff0c\u4f7f\u7528\u8d77\u4f86\u6703\u50cf\u662f\u9019\u6a23\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",metastring:"{4-7}",children:"<script>\n  export default {\n    methods: {\n      incrementHandler() {\n        const [increment] = this.$store._mutations.increment;\n        increment();\n      },\n    },\n  };\n<\/script>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u662f\u4e0d\u662f\u8d85\u4e0d\u76f4\u89ba\u53c8\u8d85\u9ebb\u7169\u7684\uff01\u5b98\u7db2\u4e5f\u8aaa\u4e0d\u8981\u9019\u6a23\u505a\uff0c",(0,s.jsx)(n.code,{children:"mutations"})," \u6bd4\u8f03\u50cf\u4e00\u500b\u4e8b\u4ef6\u8a3b\u518a\uff0c\u5b83\u547c\u53eb\u51fd\u5f0f\u7684\u65b9\u6cd5\u662f\u900f\u904e ",(0,s.jsx)(n.code,{children:"this.$store.commit('\u51fd\u5f0f\u540d\u7a31')"})," \u4f86\u547c\u53eb\u5c0d\u61c9\u7684\u51fd\u5f0f\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",metastring:"{4-6}",children:'<script>\n  export default {\n    methods: {\n      incrementHandler() {\n        this.$store.commit("increment");\n      },\n    },\n  };\n<\/script>\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u6a23\u4e00\u500b\u7c21\u55ae\u7684\u8a08\u6578\u5668\u5c31\u505a\u5b8c\u4e86\uff01\u53ef\u4ee5\u8a66\u4e00\u4e0b\u5e95\u4e0b\u7684\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsx)(i.Z,{url:"https://codesandbox.io/embed/bitter-sun-cs7hlr?fontsize=14&hidenavigation=1&theme=dark",title:"Vuex",initialPath:"counter",codebasePath:"/src/store/index.js"}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["\u53e6\u5916\u56e0\u70ba ",(0,s.jsx)(n.code,{children:"store"})," \u662f\u6703\u4e00\u76f4\u5b58\u5728\u9664\u975e\u95dc\u6389\u9801\u9762\u6216\u91cd\u65b0\u6574\u7406\uff0c\u53ef\u4ee5\u8a66\u770b\u770b\u6309 ",(0,s.jsx)(n.code,{children:"Home page"})," \u6309\u7d10\u56de\u5230\u9996\u9801\uff0c\u518d\u56de\u5230 ",(0,s.jsx)(n.code,{children:"Counter page"})," \u6703\u767c\u73fe\u525b\u525b\u66f4\u6539\u904e\u7684 ",(0,s.jsx)(n.code,{children:"count"})," \u6703\u8a18\u4f4f\u525b\u525b\u6539\u904e\u7684\u8b8a\u6578\uff0c\u4e0d\u6703\u6b78\u96f6\u5594\uff01"]})})]})}function x(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},6236:(e,n,t)=>{t.d(n,{Z:()=>r});t(7294);var s=t(5893);function r(e){let{url:n,height:t="400px",initialPath:r="%2F",title:i,codebasePath:c}=e;const o=c.replace(/\//g,"%2F");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("iframe",{src:`${n}&module=${o}&initialpath=${r}`,style:{width:"100%",height:t,border:0,borderRadius:"4px",overflow:"hidden"},title:i,allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>c});var s=t(7294);const r={},i=s.createContext(r);function c(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);