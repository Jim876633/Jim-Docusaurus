"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["99"],{6995:function(e,t,n){n.r(t),n.d(t,{default:()=>p,frontMatter:()=>l,metadata:()=>r,assets:()=>u,toc:()=>h,contentTitle:()=>d});var r=JSON.parse('{"id":"ithome2023/day11","title":"[Day 11] React + Jest \u8DEF\u5F91\u6E2C\u8A66 (AI)","description":"\u5728\u4F7F\u7528 copilot chat \u7522\u51FA\u8DEF\u5F91\u6E2C\u8A66\u6642\uFF0C\u6BD4\u8D77\u8DDF\u4ED6\u8A73\u7D30\u8AAA\u660E\u4F60\u8981\u7684\u6E2C\u8A66\u689D\u4EF6\uFF0C\u50CF\u662F\u4F7F\u7528 jest.mock \u6A21\u64EC\u5143\u4EF6\u56DE\u50B3\uFF0C\u6216\u662F\u4F7F\u7528 history \u5957\u4EF6\u6A21\u64EC\u8DEF\u7531\u884C\u70BA\u7B49\u7B49\uFF0C\u6211\u9019\u908A\u63D0\u4F9B\u4E00\u500B\u66F4\u597D\u7684\u65B9\u6CD5\uFF0C\u8B93 copilot chat \u53EF\u4EE5\u5B8C\u7F8E\u7684\u9054\u6210\u4F60\u7684\u9700\u6C42\u3002","source":"@site/docs/ithome2023/day11.mdx","sourceDirName":"ithome2023","slug":"/ithome2023/day11","permalink":"/ithome2023/day11","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"IT Home 2023","permalink":"/tags/ithome-2023","description":"IT Home \u9435\u4EBA\u8CFD 2023 \u5E74\u7CFB\u5217\u6587\u7AE0"}],"version":"current","lastUpdatedAt":1718173908000,"frontMatter":{"title":"[Day 11] React + Jest \u8DEF\u5F91\u6E2C\u8A66 (AI)","tags":["ithome2023"]},"sidebar":"tutorialSidebar","previous":{"title":"[Day 10] React + Jest \u8DEF\u5F91\u6E2C\u8A66","permalink":"/ithome2023/day10"},"next":{"title":"[Day 12] React + Jest \u5F48\u7A97\u6E2C\u8A66","permalink":"/ithome2023/day12"}}'),i=n("5893"),o=n("65"),s=n("8239");let a=n.p+"assets/images/day11-1-5bef1f95f5f4d89eeca7a7c825822a07.gif",c=n.p+"assets/images/day11-2-768e45dac0dce96a849a9849460a7f9c.gif",l={title:"[Day 11] React + Jest \u8DEF\u5F91\u6E2C\u8A66 (AI)",tags:["ithome2023"]},d=void 0,u={},h=[{value:"Router \u5C0E\u9801\u6E2C\u8A66",id:"router-\u5C0E\u9801\u6E2C\u8A66",level:2},{value:"Navbar \u8DEF\u5F91\u6E2C\u8A66",id:"navbar-\u8DEF\u5F91\u6E2C\u8A66",level:2},{value:"\u7D50\u8AD6",id:"\u7D50\u8AD6",level:2}];function m(e){let t={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["\u5728\u4F7F\u7528 copilot chat \u7522\u51FA\u8DEF\u5F91\u6E2C\u8A66\u6642\uFF0C\u6BD4\u8D77\u8DDF\u4ED6\u8A73\u7D30\u8AAA\u660E\u4F60\u8981\u7684\u6E2C\u8A66\u689D\u4EF6\uFF0C\u50CF\u662F\u4F7F\u7528 ",(0,i.jsx)(t.code,{children:"jest.mock"})," \u6A21\u64EC\u5143\u4EF6\u56DE\u50B3\uFF0C\u6216\u662F\u4F7F\u7528 ",(0,i.jsx)(t.code,{children:"history"})," \u5957\u4EF6\u6A21\u64EC\u8DEF\u7531\u884C\u70BA\u7B49\u7B49\uFF0C\u6211\u9019\u908A\u63D0\u4F9B\u4E00\u500B\u66F4\u597D\u7684\u65B9\u6CD5\uFF0C\u8B93 copilot chat \u53EF\u4EE5\u5B8C\u7F8E\u7684\u9054\u6210\u4F60\u7684\u9700\u6C42\u3002"]}),"\n",(0,i.jsxs)(t.p,{children:["\u5C31\u662F\u5148\u5BEB\u4E00\u4EFD ",(0,i.jsx)(t.strong,{children:"Template(\u6A21\u677F)"}),"\uFF01"]}),"\n",(0,i.jsx)(t.h2,{id:"router-\u5C0E\u9801\u6E2C\u8A66",children:"Router \u5C0E\u9801\u6E2C\u8A66"}),"\n",(0,i.jsx)(t.p,{children:"\u76F4\u63A5\u5148\u5BEB\u5176\u4E2D\u4E00\u500B\u8DEF\u5F91\u7684\u5B8C\u6574\u6E2C\u8A66\uFF1A"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:'import { render, screen } from "@testing-library/react";\nimport { RouterProvider, createMemoryRouter } from "react-router-dom";\nimport { routerConfig } from ".";\n\n// \u6A21\u64EC\u5143\u4EF6\u56DE\u50B3\njest.mock("@/pages/HomePage/Home/index.tsx", () => {\n  return {\n    Home: () => <div>home page</div>,\n  };\n});\n\n// \u6E2C\u8A66\ndescribe("router testing", () => {\n  it("\u7576 router \u8DEF\u5F91\u70BA \'/home\' \u986F\u793A \'home page\' \u6587\u5B57", () => {\n    const router = createMemoryRouter(routerConfig, {\n      initialEntries: ["/home"],\n    });\n\n    render(<RouterProvider router={router} />);\n\n    expect(screen.getByText(/home page/i)).toBeInTheDocument();\n  });\n});\n'})}),"\n",(0,i.jsx)(t.p,{children:"\u9019\u6642\u5019\u518D\u8ACB copilot chat \u4F9D\u64DA\u9019\u500B\u6A21\u677F\uFF0C\u628A\u5269\u4E0B\u7684\u8DEF\u5F91\u6E2C\u8A66\u90FD\u5BEB\u51FA\u4F86\uFF1A"}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"/test Generate all route separate unit test with the router/index.test.tsx template"}),"\n"]}),"\n",(0,i.jsx)(s.Ei,{src:a}),"\n",(0,i.jsx)(t.h2,{id:"navbar-\u8DEF\u5F91\u6E2C\u8A66",children:"Navbar \u8DEF\u5F91\u6E2C\u8A66"}),"\n",(0,i.jsx)(t.p,{children:"Navbar \u4E00\u6A23\u5148\u5BEB\u5176\u4E2D\u4E00\u500B\u8DEF\u7531\u7684\u5B8C\u6574\u6E2C\u8A66\uFF1A"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"describe(\"navbar testing\", () => {\n  let history: MemoryHistory;\n  const user = userEvent.setup();\n  beforeEach(() => {\n    history = createMemoryHistory();\n    render(\n      <Router location='/home' navigator={history}>\n        <Navbar />\n      </Router>\n    );\n  });\n\n  it(\"\u9EDE\u64CA 'home' \u9023\u7D50\uFF0C\u7DB2\u5740\u5C0E\u9801\u5230 '/home' \u8DEF\u5F91\", async () => {\n    const homeLink = screen.getByText(/home/i);\n    expect(homeLink).toBeInTheDocument();\n    await user.click(homeLink);\n    expect(history.location.pathname).toBe(\"/home\");\n  });\n});\n"})}),"\n",(0,i.jsx)(t.p,{children:"\u518D\u628A\u5269\u4E0B\u7684\u8DEF\u5F91\u6E2C\u8A66\u7522\u51FA\u4F86\uFF1A"}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"/test Generate all route separate unit test with the navbar/index.test.tsx template"}),"\n"]}),"\n",(0,i.jsx)(s.Ei,{src:c}),"\n",(0,i.jsx)(t.h2,{id:"\u7D50\u8AD6",children:"\u7D50\u8AD6"}),"\n",(0,i.jsx)(t.p,{children:"\u96D6\u7136\u6211\u53EA\u4EE5\u5169\u500B\u8DEF\u5F91\u7576\u4F5C\u7BC4\u4F8B\uFF0C\u770B\u4E0D\u592A\u51FA\u4F86\u6210\u6548\uFF0C\u4F46\u662F\u5BE6\u969B\u5C08\u6848\u53EF\u80FD\u6709\u5E7E\u767E\u500B\u8DEF\u5F91\uFF0C\u9019\u6642\u5019\u5148\u5BEB template\uFF0C\u518D\u8B93 copilot chat \u6839\u64DA template \u7522\u51FA\u5269\u4E0B\u7684\u8DEF\u5F91\u6E2C\u8A66\uFF0C\u90A3\u500B\u7BC0\u7701\u7684\u6642\u9593\u53EF\u662F\u500D\u6578\u7684\u63D0\u5347\uFF0C\u800C\u4E14\u9084\u4E0D\u7528\u64D4\u5FC3 copilot chat \u7522\u51FA\u7684\u6E2C\u8A66\u4E0D\u7B26\u5408\u4F60\u7684\u9700\u6C42\u3002"}),"\n",(0,i.jsx)(t.p,{children:"\u4E0B\u6B21\u6709\u9047\u5230\u91CD\u8907\u76F8\u540C\u7D50\u69CB\u7684\u7A0B\u5F0F\u78BC\uFF0C\u8207\u5176\u82B1\u6642\u9593\u53BB\u63CF\u8FF0\u9700\u6C42\uFF0C\u4E0D\u5982\u5C31\u5BEB\u4E00\u4EFD\u6E2C\u8A66\u78BC\u7BC4\u4F8B\u5427\uFF01"})]})}function p(e={}){let{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},4634:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(5893);n(7294);var i=n(6735);function o(e){let{children:t,fallback:n}=e;return(0,i.Z)()?(0,r.jsx)(r.Fragment,{children:t?.()}):n??null}},8239:function(e,t,n){n.d(t,{Ei:function(){return s},gO:function(){return a},nI:function(){return c}});var r=n(5893),i=n(4634),o=n(1195);n(7294);let s=e=>{let{src:t,width:n="100%",center:i=!1,style:o={}}=e,s={width:`min(100%,${n})`,display:i?"block":"inline-block",margin:i?"0 auto":"0",borderRadius:"5px",...o};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:t,style:{...s}}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})},a=e=>{let{children:t,width:n="100%",center:s=!1,style:a={}}=e;return(0,r.jsx)(i.Z,{children:()=>{let{sm:e}=(0,o.Z)(),i={width:`min(100%,${n})`,margin:s?"0 auto":"0",display:"flex",flexDirection:e?"column":"row",gap:"10px",alignItems:"center",...a};return(0,r.jsx)("div",{style:{...i},children:t})}})},c=e=>{let{style:t,width:n="100%",src:i}=e,o={width:`min(100%,${n})`,flex:1,...t};return(0,r.jsx)("div",{style:{...o},children:(0,r.jsx)(s,{src:i})})}},1195:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(7294);let i=()=>{let[e,t]=(0,r.useState)({width:window.innerWidth,height:window.innerHeight}),[n,i]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{let e=()=>{let{innerWidth:e,innerHeight:n}=window;t({width:e,height:n}),i(e<=635)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{sm:n,windowSize:e}}},65:function(e,t,n){n.d(t,{Z:function(){return a},a:function(){return s}});var r=n(7294);let i={},o=r.createContext(i);function s(e){let t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);