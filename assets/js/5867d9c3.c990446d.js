"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8296],{9797:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>d,toc:()=>m});var r=n(5893),o=n(1151),s=n(5397);const a=n.p+"assets/images/day11-1-5bef1f95f5f4d89eeca7a7c825822a07.gif",i=n.p+"assets/images/day11-2-768e45dac0dce96a849a9849460a7f9c.gif",c={title:"[Day 11] React + Jest \u8def\u5f91\u6e2c\u8a66 (AI)",tags:["ITHome 2023"]},l=void 0,d={id:"ithome2023/day11",title:"[Day 11] React + Jest \u8def\u5f91\u6e2c\u8a66 (AI)",description:"\u5728\u4f7f\u7528 copilot chat \u7522\u51fa\u8def\u5f91\u6e2c\u8a66\u6642\uff0c\u6bd4\u8d77\u8ddf\u4ed6\u8a73\u7d30\u8aaa\u660e\u4f60\u8981\u7684\u6e2c\u8a66\u689d\u4ef6\uff0c\u50cf\u662f\u4f7f\u7528 jest.mock \u6a21\u64ec\u5143\u4ef6\u56de\u50b3\uff0c\u6216\u662f\u4f7f\u7528 history \u5957\u4ef6\u6a21\u64ec\u8def\u7531\u884c\u70ba\u7b49\u7b49\uff0c\u6211\u9019\u908a\u63d0\u4f9b\u4e00\u500b\u66f4\u597d\u7684\u65b9\u6cd5\uff0c\u8b93 copilot chat \u53ef\u4ee5\u5b8c\u7f8e\u7684\u9054\u6210\u4f60\u7684\u9700\u6c42\u3002",source:"@site/docs/ithome2023/day11.mdx",sourceDirName:"ithome2023",slug:"/ithome2023/day11",permalink:"/ithome2023/day11",draft:!1,unlisted:!1,tags:[{label:"ITHome 2023",permalink:"/tags/it-home-2023"}],version:"current",lastUpdatedAt:1706667548,formattedLastUpdatedAt:"2024\u5e741\u670831\u65e5",frontMatter:{title:"[Day 11] React + Jest \u8def\u5f91\u6e2c\u8a66 (AI)",tags:["ITHome 2023"]},sidebar:"tutorialSidebar",previous:{title:"[Day 10] React + Jest \u8def\u5f91\u6e2c\u8a66",permalink:"/ithome2023/day10"},next:{title:"[Day 12] React + Jest \u5f48\u7a97\u6e2c\u8a66",permalink:"/ithome2023/day12"}},h={},m=[{value:"Router \u5c0e\u9801\u6e2c\u8a66",id:"router-\u5c0e\u9801\u6e2c\u8a66",level:2},{value:"Navbar \u8def\u5f91\u6e2c\u8a66",id:"navbar-\u8def\u5f91\u6e2c\u8a66",level:2},{value:"\u7d50\u8ad6",id:"\u7d50\u8ad6",level:2}];function u(e){const t={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["\u5728\u4f7f\u7528 copilot chat \u7522\u51fa\u8def\u5f91\u6e2c\u8a66\u6642\uff0c\u6bd4\u8d77\u8ddf\u4ed6\u8a73\u7d30\u8aaa\u660e\u4f60\u8981\u7684\u6e2c\u8a66\u689d\u4ef6\uff0c\u50cf\u662f\u4f7f\u7528 ",(0,r.jsx)(t.code,{children:"jest.mock"})," \u6a21\u64ec\u5143\u4ef6\u56de\u50b3\uff0c\u6216\u662f\u4f7f\u7528 ",(0,r.jsx)(t.code,{children:"history"})," \u5957\u4ef6\u6a21\u64ec\u8def\u7531\u884c\u70ba\u7b49\u7b49\uff0c\u6211\u9019\u908a\u63d0\u4f9b\u4e00\u500b\u66f4\u597d\u7684\u65b9\u6cd5\uff0c\u8b93 copilot chat \u53ef\u4ee5\u5b8c\u7f8e\u7684\u9054\u6210\u4f60\u7684\u9700\u6c42\u3002"]}),"\n",(0,r.jsxs)(t.p,{children:["\u5c31\u662f\u5148\u5beb\u4e00\u4efd ",(0,r.jsx)(t.strong,{children:"Template(\u6a21\u677f)"}),"\uff01"]}),"\n",(0,r.jsx)(t.h2,{id:"router-\u5c0e\u9801\u6e2c\u8a66",children:"Router \u5c0e\u9801\u6e2c\u8a66"}),"\n",(0,r.jsx)(t.p,{children:"\u76f4\u63a5\u5148\u5beb\u5176\u4e2d\u4e00\u500b\u8def\u5f91\u7684\u5b8c\u6574\u6e2c\u8a66\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:'import { render, screen } from "@testing-library/react";\nimport { RouterProvider, createMemoryRouter } from "react-router-dom";\nimport { routerConfig } from ".";\n\n// \u6a21\u64ec\u5143\u4ef6\u56de\u50b3\njest.mock("@/pages/HomePage/Home/index.tsx", () => {\n  return {\n    Home: () => <div>home page</div>,\n  };\n});\n\n// \u6e2c\u8a66\ndescribe("router testing", () => {\n  it("\u7576 router \u8def\u5f91\u70ba \'/home\' \u986f\u793a \'home page\' \u6587\u5b57", () => {\n    const router = createMemoryRouter(routerConfig, {\n      initialEntries: ["/home"],\n    });\n\n    render(<RouterProvider router={router} />);\n\n    expect(screen.getByText(/home page/i)).toBeInTheDocument();\n  });\n});\n'})}),"\n",(0,r.jsx)(t.p,{children:"\u9019\u6642\u5019\u518d\u8acb copilot chat \u4f9d\u64da\u9019\u500b\u6a21\u677f\uff0c\u628a\u5269\u4e0b\u7684\u8def\u5f91\u6e2c\u8a66\u90fd\u5beb\u51fa\u4f86\uff1a"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:"/test Generate all route separate unit test with the router/index.test.tsx template"}),"\n"]}),"\n",(0,r.jsx)(s.E,{src:a}),"\n",(0,r.jsx)(t.h2,{id:"navbar-\u8def\u5f91\u6e2c\u8a66",children:"Navbar \u8def\u5f91\u6e2c\u8a66"}),"\n",(0,r.jsx)(t.p,{children:"Navbar \u4e00\u6a23\u5148\u5beb\u5176\u4e2d\u4e00\u500b\u8def\u7531\u7684\u5b8c\u6574\u6e2c\u8a66\uff1a"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"describe(\"navbar testing\", () => {\n  let history: MemoryHistory;\n  const user = userEvent.setup();\n  beforeEach(() => {\n    history = createMemoryHistory();\n    render(\n      <Router location='/home' navigator={history}>\n        <Navbar />\n      </Router>\n    );\n  });\n\n  it(\"\u9ede\u64ca 'home' \u9023\u7d50\uff0c\u7db2\u5740\u5c0e\u9801\u5230 '/home' \u8def\u5f91\", async () => {\n    const homeLink = screen.getByText(/home/i);\n    expect(homeLink).toBeInTheDocument();\n    await user.click(homeLink);\n    expect(history.location.pathname).toBe(\"/home\");\n  });\n});\n"})}),"\n",(0,r.jsx)(t.p,{children:"\u518d\u628a\u5269\u4e0b\u7684\u8def\u5f91\u6e2c\u8a66\u7522\u51fa\u4f86\uff1a"}),"\n",(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsx)(t.p,{children:"/test Generate all route separate unit test with the navbar/index.test.tsx template"}),"\n"]}),"\n",(0,r.jsx)(s.E,{src:i}),"\n",(0,r.jsx)(t.h2,{id:"\u7d50\u8ad6",children:"\u7d50\u8ad6"}),"\n",(0,r.jsx)(t.p,{children:"\u96d6\u7136\u6211\u53ea\u4ee5\u5169\u500b\u8def\u5f91\u7576\u4f5c\u7bc4\u4f8b\uff0c\u770b\u4e0d\u592a\u51fa\u4f86\u6210\u6548\uff0c\u4f46\u662f\u5be6\u969b\u5c08\u6848\u53ef\u80fd\u6709\u5e7e\u767e\u500b\u8def\u5f91\uff0c\u9019\u6642\u5019\u5148\u5beb template\uff0c\u518d\u8b93 copilot chat \u6839\u64da template \u7522\u51fa\u5269\u4e0b\u7684\u8def\u5f91\u6e2c\u8a66\uff0c\u90a3\u500b\u7bc0\u7701\u7684\u6642\u9593\u53ef\u662f\u500d\u6578\u7684\u63d0\u5347\uff0c\u800c\u4e14\u9084\u4e0d\u7528\u64d4\u5fc3 copilot chat \u7522\u51fa\u7684\u6e2c\u8a66\u4e0d\u7b26\u5408\u4f60\u7684\u9700\u6c42\u3002"}),"\n",(0,r.jsx)(t.p,{children:"\u4e0b\u6b21\u6709\u9047\u5230\u91cd\u8907\u76f8\u540c\u7d50\u69cb\u7684\u7a0b\u5f0f\u78bc\uff0c\u8207\u5176\u82b1\u6642\u9593\u53bb\u63cf\u8ff0\u9700\u6c42\uff0c\u4e0d\u5982\u5c31\u5beb\u4e00\u4efd\u6e2c\u8a66\u78bc\u7bc4\u4f8b\u5427\uff01"})]})}function p(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},5397:(e,t,n)=>{n.d(t,{E:()=>o});n(7294);var r=n(5893);const o=e=>{let{src:t,width:n="100%",center:o=!1,style:s={}}=e;const a={width:`min(100%,${n})`,display:o?"block":"inline-block",margin:o?"0 auto":"0",borderRadius:"5px",...s};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:t,style:{...a}}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})}},1151:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>a});var r=n(7294);const o={},s=r.createContext(o);function a(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);